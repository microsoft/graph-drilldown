{"remainingRequest":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\babel-loader-virtual-fd8dd261de\\0\\cache\\babel-loader-npm-8.2.2-b4e600c2c5-df5092ef98.zip\\node_modules\\babel-loader\\lib\\index.js??ruleSet[1].rules[0].use[1]!C:\\ws\\graph-drill\\.yarn\\__virtual__\\ts-loader-virtual-aa0d54d245\\0\\cache\\ts-loader-npm-9.2.1-40e1a5908e-1f2e61905d.zip\\node_modules\\ts-loader\\index.js??ruleSet[1].rules[0].use[2]!C:\\ws\\graph-drill\\src\\utils\\query.ts","dependencies":[{"path":"C:\\ws\\graph-drill\\src\\utils\\query.ts","mtime":1631029334925},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\cache-loader-virtual-2fd14a2267\\0\\cache\\cache-loader-npm-4.1.0-82c3da90d8-0339778bdd.zip\\node_modules\\cache-loader\\dist\\cjs.js","mtime":456789000000},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\babel-loader-virtual-fd8dd261de\\0\\cache\\babel-loader-npm-8.2.2-b4e600c2c5-df5092ef98.zip\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\ts-loader-virtual-aa0d54d245\\0\\cache\\ts-loader-npm-9.2.1-40e1a5908e-1f2e61905d.zip\\node_modules\\ts-loader\\index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyohDQogKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdC4gQWxsIHJpZ2h0cyByZXNlcnZlZC4NCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS4gU2VlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcHJvamVjdC4NCiAqLwppbXBvcnQgeyBwYXJzZSB9IGZyb20gJ3F1ZXJ5LXN0cmluZyc7CmV4cG9ydCBmdW5jdGlvbiBnZXRRdWVyeSgpIHsKICAvLyBUT0RPOiByZWFjdC1yb3V0ZXIgaGFzaCByb3V0ZXIgbWVzc2VzIHVwIHRoZSBzdGFuZGFyZCBsb2NhdGlvbi5zZWFyY2gKICAvLyB0aGlzIGp1c3QgaGFja3MgYSBxdWljayBleHRyYWN0b24gaW4KICBjb25zdCBzZWFyY2ggPSB3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdCgnPycpWzFdOwogIHJldHVybiBwYXJzZShzZWFyY2gsIHsKICAgIHBhcnNlQm9vbGVhbnM6IHRydWUsCiAgICBwYXJzZU51bWJlcnM6IHRydWUKICB9KTsKfQpleHBvcnQgZnVuY3Rpb24gZ2V0U3RyaW5nKG5hbWUsIGRlZmF1bHRWYWx1ZSA9ICcnKSB7CiAgY29uc3QgcXVlcnkgPSBnZXRRdWVyeSgpOwogIHJldHVybiBxdWVyeVtuYW1lXSB8fCBkZWZhdWx0VmFsdWU7Cn0KZXhwb3J0IGZ1bmN0aW9uIGdldEJvb2xlYW4obmFtZSwgZGVmYXVsdFZhbHVlID0gZmFsc2UpIHsKICBjb25zdCBxdWVyeSA9IGdldFF1ZXJ5KCk7CiAgcmV0dXJuIHF1ZXJ5W25hbWVdIHx8IGRlZmF1bHRWYWx1ZTsKfQpleHBvcnQgZnVuY3Rpb24gZ2V0TnVtYmVyKG5hbWUsIGRlZmF1bHRWYWx1ZSA9IDApIHsKICBjb25zdCBxdWVyeSA9IGdldFF1ZXJ5KCk7CiAgcmV0dXJuIHF1ZXJ5W25hbWVdIHx8IGRlZmF1bHRWYWx1ZTsKfQpleHBvcnQgZnVuY3Rpb24gZ2V0RGF0YXNldCgpIHsKICByZXR1cm4gZ2V0U3RyaW5nKCdkYXRhc2V0Jyk7Cn0KZXhwb3J0IGZ1bmN0aW9uIGdldEZvcm1hdCgpIHsKICByZXR1cm4gZ2V0U3RyaW5nKCdmb3JtYXQnLCAnY3N2Jyk7Cn0KZXhwb3J0IGZ1bmN0aW9uIGdldE5vZGVzRmlsZSgpIHsKICBjb25zb2xlLmxvZygnbm9kZXMgZmlsZScsIGdldFN0cmluZygnbm9kZXMnKSk7CiAgY29uc29sZS5sb2coZ2V0UXVlcnkoKSk7CiAgcmV0dXJuIGdldFN0cmluZygnbm9kZXMnKTsKfQpleHBvcnQgZnVuY3Rpb24gZ2V0RWRnZXNGaWxlKCkgewogIHJldHVybiBnZXRTdHJpbmcoJ2VkZ2VzJyk7Cn0KZXhwb3J0IGZ1bmN0aW9uIGdldEpvaW5GaWxlKCkgewogIHJldHVybiBnZXRTdHJpbmcoJ2pvaW4nKTsKfQpleHBvcnQgZnVuY3Rpb24gZ2V0Q29tbXVuaXRpZXNGaWxlKCkgewogIHJldHVybiBnZXRTdHJpbmcoJ2NvbW11bml0aWVzJyk7Cn0KLyoqDQogKiBUYWtlcyBhbiBpbnB1dCBvYmplY3Qgd2l0aCBrZXlzIGFuZCB2YWx1ZXMsDQogKiB3aGVyZSB0aGUga2V5IGlzIHRoZSBwYXJhbSBhbmQgdGhlIHZhbHVlIGlzIHRoZSBkZWZhdWx0Lg0KICogTG9vayBmb3IgYWxsIG9mIHRoZXNlIHByb3BlcnRpZXMgb24gdGhlIHF1ZXJ5LCByZXR1cm5pbmcgdGhlDQogKiBkZWZhdWx0IGZvciBlYWNoIGlmIG5vdCBzcGVjaWZpZWQuDQogKiBAcGFyYW0gaW5wdXQNCiAqLwoKZXhwb3J0IGZ1bmN0aW9uIHBhcnNlUGFyYW1zKGlucHV0KSB7CiAgY29uc3QgcXVlcnkgPSBnZXRRdWVyeSgpOwogIHJldHVybiBPYmplY3QuZW50cmllcyhpbnB1dCkucmVkdWNlKChhY2MsIGN1cikgPT4gewogICAgY29uc3QgW2tleSwgdmFsdWVdID0gY3VyOwogICAgY29uc3QgcGFyYW0gPSBxdWVyeVtrZXldOyAvLyBleHBsaWNpdCB1bmRlZmluZWQgY2hlY2ssIGZvciBmYWxzZXkgc3R1ZmYKCiAgICBpZiAocGFyYW0gPT09IHVuZGVmaW5lZCkgewogICAgICBhY2Nba2V5XSA9IHZhbHVlOwogICAgfSBlbHNlIHsKICAgICAgYWNjW2tleV0gPSBwYXJhbTsKICAgIH0KCiAgICByZXR1cm4gYWNjOwogIH0sIHt9KTsKfQ=="},{"version":3,"sources":["C:/ws/graph-drill/src/utils/query.ts"],"names":["parse","getQuery","search","window","location","href","split","parseBooleans","parseNumbers","getString","name","defaultValue","query","getBoolean","getNumber","getDataset","getFormat","getNodesFile","console","log","getEdgesFile","getJoinFile","getCommunitiesFile","parseParams","input","Object","entries","reduce","acc","cur","key","value","param","undefined"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAASA,KAAT,QAAsB,cAAtB;AACA,OAAO,SAASC,QAAT,GAAoB;AACvB;AACA;AACA,QAAMC,MAAM,GAAGC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,KAArB,CAA2B,GAA3B,EAAgC,CAAhC,CAAf;AACA,SAAON,KAAK,CAACE,MAAD,EAAS;AACjBK,IAAAA,aAAa,EAAE,IADE;AAEjBC,IAAAA,YAAY,EAAE;AAFG,GAAT,CAAZ;AAIH;AACD,OAAO,SAASC,SAAT,CAAmBC,IAAnB,EAAyBC,YAAY,GAAG,EAAxC,EAA4C;AAC/C,QAAMC,KAAK,GAAGX,QAAQ,EAAtB;AACA,SAAOW,KAAK,CAACF,IAAD,CAAL,IAAeC,YAAtB;AACH;AACD,OAAO,SAASE,UAAT,CAAoBH,IAApB,EAA0BC,YAAY,GAAG,KAAzC,EAAgD;AACnD,QAAMC,KAAK,GAAGX,QAAQ,EAAtB;AACA,SAAOW,KAAK,CAACF,IAAD,CAAL,IAAeC,YAAtB;AACH;AACD,OAAO,SAASG,SAAT,CAAmBJ,IAAnB,EAAyBC,YAAY,GAAG,CAAxC,EAA2C;AAC9C,QAAMC,KAAK,GAAGX,QAAQ,EAAtB;AACA,SAAOW,KAAK,CAACF,IAAD,CAAL,IAAeC,YAAtB;AACH;AACD,OAAO,SAASI,UAAT,GAAsB;AACzB,SAAON,SAAS,CAAC,SAAD,CAAhB;AACH;AACD,OAAO,SAASO,SAAT,GAAqB;AACxB,SAAOP,SAAS,CAAC,QAAD,EAAW,KAAX,CAAhB;AACH;AACD,OAAO,SAASQ,YAAT,GAAwB;AAC3BC,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BV,SAAS,CAAC,OAAD,CAAnC;AACAS,EAAAA,OAAO,CAACC,GAAR,CAAYlB,QAAQ,EAApB;AACA,SAAOQ,SAAS,CAAC,OAAD,CAAhB;AACH;AACD,OAAO,SAASW,YAAT,GAAwB;AAC3B,SAAOX,SAAS,CAAC,OAAD,CAAhB;AACH;AACD,OAAO,SAASY,WAAT,GAAuB;AAC1B,SAAOZ,SAAS,CAAC,MAAD,CAAhB;AACH;AACD,OAAO,SAASa,kBAAT,GAA8B;AACjC,SAAOb,SAAS,CAAC,aAAD,CAAhB;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASc,WAAT,CAAqBC,KAArB,EAA4B;AAC/B,QAAMZ,KAAK,GAAGX,QAAQ,EAAtB;AACA,SAAOwB,MAAM,CAACC,OAAP,CAAeF,KAAf,EAAsBG,MAAtB,CAA6B,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC9C,UAAM,CAACC,GAAD,EAAMC,KAAN,IAAeF,GAArB;AACA,UAAMG,KAAK,GAAGpB,KAAK,CAACkB,GAAD,CAAnB,CAF8C,CAG9C;;AACA,QAAIE,KAAK,KAAKC,SAAd,EAAyB;AACrBL,MAAAA,GAAG,CAACE,GAAD,CAAH,GAAWC,KAAX;AACH,KAFD,MAGK;AACDH,MAAAA,GAAG,CAACE,GAAD,CAAH,GAAWE,KAAX;AACH;;AACD,WAAOJ,GAAP;AACH,GAXM,EAWJ,EAXI,CAAP;AAYH","sourcesContent":["/*!\r\n * Copyright (c) Microsoft. All rights reserved.\r\n * Licensed under the MIT license. See LICENSE file in the project.\r\n */\r\nimport { parse } from 'query-string';\r\nexport function getQuery() {\r\n    // TODO: react-router hash router messes up the standard location.search\r\n    // this just hacks a quick extracton in\r\n    const search = window.location.href.split('?')[1];\r\n    return parse(search, {\r\n        parseBooleans: true,\r\n        parseNumbers: true,\r\n    });\r\n}\r\nexport function getString(name, defaultValue = '') {\r\n    const query = getQuery();\r\n    return query[name] || defaultValue;\r\n}\r\nexport function getBoolean(name, defaultValue = false) {\r\n    const query = getQuery();\r\n    return query[name] || defaultValue;\r\n}\r\nexport function getNumber(name, defaultValue = 0) {\r\n    const query = getQuery();\r\n    return query[name] || defaultValue;\r\n}\r\nexport function getDataset() {\r\n    return getString('dataset');\r\n}\r\nexport function getFormat() {\r\n    return getString('format', 'csv');\r\n}\r\nexport function getNodesFile() {\r\n    console.log('nodes file', getString('nodes'));\r\n    console.log(getQuery());\r\n    return getString('nodes');\r\n}\r\nexport function getEdgesFile() {\r\n    return getString('edges');\r\n}\r\nexport function getJoinFile() {\r\n    return getString('join');\r\n}\r\nexport function getCommunitiesFile() {\r\n    return getString('communities');\r\n}\r\n/**\r\n * Takes an input object with keys and values,\r\n * where the key is the param and the value is the default.\r\n * Look for all of these properties on the query, returning the\r\n * default for each if not specified.\r\n * @param input\r\n */\r\nexport function parseParams(input) {\r\n    const query = getQuery();\r\n    return Object.entries(input).reduce((acc, cur) => {\r\n        const [key, value] = cur;\r\n        const param = query[key];\r\n        // explicit undefined check, for falsey stuff\r\n        if (param === undefined) {\r\n            acc[key] = value;\r\n        }\r\n        else {\r\n            acc[key] = param;\r\n        }\r\n        return acc;\r\n    }, {});\r\n}\r\n"]}]}