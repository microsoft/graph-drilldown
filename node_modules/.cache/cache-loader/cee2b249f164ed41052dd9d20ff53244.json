{"remainingRequest":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\babel-loader-virtual-fd8dd261de\\0\\cache\\babel-loader-npm-8.2.2-b4e600c2c5-df5092ef98.zip\\node_modules\\babel-loader\\lib\\index.js??ruleSet[1].rules[0].use[1]!C:\\ws\\graph-drill\\.yarn\\__virtual__\\ts-loader-virtual-aa0d54d245\\0\\cache\\ts-loader-npm-9.2.1-40e1a5908e-1f2e61905d.zip\\node_modules\\ts-loader\\index.js??ruleSet[1].rules[0].use[2]!C:\\ws\\graph-drill\\src\\controls\\HeaderLegend\\ColorRangeText.tsx","dependencies":[{"path":"C:\\ws\\graph-drill\\src\\controls\\HeaderLegend\\ColorRangeText.tsx","mtime":1631029334828},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\cache-loader-virtual-2fd14a2267\\0\\cache\\cache-loader-npm-4.1.0-82c3da90d8-0339778bdd.zip\\node_modules\\cache-loader\\dist\\cjs.js","mtime":456789000000},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\babel-loader-virtual-fd8dd261de\\0\\cache\\babel-loader-npm-8.2.2-b4e600c2c5-df5092ef98.zip\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\ts-loader-virtual-aa0d54d245\\0\\cache\\ts-loader-npm-9.2.1-40e1a5908e-1f2e61905d.zip\\node_modules\\ts-loader\\index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdXNlSXNOb21pbmFsIH0gZnJvbSAnLi9ob29rcyc7CmltcG9ydCB7IGZvcm1hdCB9IGZyb20gJ2QzLWZvcm1hdCc7CmltcG9ydCBSZWFjdCwgeyB1c2VNZW1vIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJzsKaW1wb3J0IHsgZ2V0UHJlY2lzaW9uIH0gZnJvbSAnfi9hcnF1ZXJvJzsKZXhwb3J0IGNvbnN0IENvbG9yUmFuZ2VUZXh0ID0gKHsKICBlbmNvZGluZywKICBpbmNsdWRlTWlkcG9pbnQgPSBmYWxzZQp9KSA9PiB7CiAgY29uc3QgaXNOb21pbmFsID0gdXNlSXNOb21pbmFsKGVuY29kaW5nKTsKICBjb25zdCByYW5nZSA9IHVzZU1lbW8oKCkgPT4gewogICAgaWYgKGlzTm9taW5hbCkgewogICAgICBjb25zdCB7CiAgICAgICAgdW5pcXVlcyA9IFtdCiAgICAgIH0gPSBlbmNvZGluZzsKICAgICAgY29uc3QgbGVuZ3RoID0gdW5pcXVlcy5sZW5ndGg7CiAgICAgIHJldHVybiBbYCR7bGVuZ3RofSB1bmlxdWUgdmFsdWUke2xlbmd0aCAhPT0gMSA/ICdzJyA6ICcnfWAsICcnLCAnJ107CiAgICB9IGVsc2UgewogICAgICBjb25zdCBwcmVjaXNpb24gPSBnZXRQcmVjaXNpb24oZW5jb2RpbmcuZG9tYWluKTsKICAgICAgY29uc3QgW21pbiwgbWF4XSA9IGVuY29kaW5nLmRvbWFpbiB8fCBbMCwgMV07CiAgICAgIGNvbnN0IG1pZCA9IChtYXggLSBtaW4pIC8gMjsKICAgICAgY29uc3QgZm10ID0gZm9ybWF0KGAuJHtwcmVjaXNpb259ZmApOwogICAgICByZXR1cm4gW2ZtdChtaW4pLCBmbXQobWlkKSwgZm10KG1heCldOwogICAgfQogIH0sIFtpc05vbWluYWwsIGVuY29kaW5nXSk7CiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udGFpbmVyLCBudWxsLCBSZWFjdC5jcmVhdGVFbGVtZW50KExlZnQsIG51bGwsIHJhbmdlWzBdKSwgaW5jbHVkZU1pZHBvaW50ICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2VudGVyLCBudWxsLCByYW5nZVsxXSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmlnaHQsIG51bGwsIHJhbmdlWzJdKSk7Cn07CmNvbnN0IENvbnRhaW5lciA9IHN0eWxlZC5kaXZgCglmb250LXNpemU6IDAuN2VtOwoJZGlzcGxheTogZmxleDsKCWp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKYDsKY29uc3QgTGVmdCA9IHN0eWxlZC5kaXZgYDsKY29uc3QgQ2VudGVyID0gc3R5bGVkLmRpdmAKCXRleHQtYWxpZ246IGNlbnRlcjsKYDsKY29uc3QgUmlnaHQgPSBzdHlsZWQuZGl2YAoJdGV4dC1hbGlnbjogcmlnaHQ7CmA7"},{"version":3,"sources":["C:/ws/graph-drill/src/controls/HeaderLegend/ColorRangeText.tsx"],"names":["useIsNominal","format","React","useMemo","styled","getPrecision","ColorRangeText","encoding","includeMidpoint","isNominal","range","uniques","length","precision","domain","min","max","mid","fmt","createElement","Container","Left","Center","Right","div"],"mappings":"AAAA,SAASA,YAAT,QAA6B,SAA7B;AACA,SAASC,MAAT,QAAuB,WAAvB;AACA,OAAOC,KAAP,IAAgBC,OAAhB,QAA+B,OAA/B;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,YAAT,QAA6B,WAA7B;AACA,OAAO,MAAMC,cAAc,GAAG,CAAC;AAAEC,EAAAA,QAAF;AAAYC,EAAAA,eAAe,GAAG;AAA9B,CAAD,KAA4C;AACtE,QAAMC,SAAS,GAAGT,YAAY,CAACO,QAAD,CAA9B;AACA,QAAMG,KAAK,GAAGP,OAAO,CAAC,MAAM;AACxB,QAAIM,SAAJ,EAAe;AACX,YAAM;AAAEE,QAAAA,OAAO,GAAG;AAAZ,UAAmBJ,QAAzB;AACA,YAAMK,MAAM,GAAGD,OAAO,CAACC,MAAvB;AACA,aAAO,CAAE,GAAEA,MAAO,gBAAeA,MAAM,KAAK,CAAX,GAAe,GAAf,GAAqB,EAAG,EAAlD,EAAqD,EAArD,EAAyD,EAAzD,CAAP;AACH,KAJD,MAKK;AACD,YAAMC,SAAS,GAAGR,YAAY,CAACE,QAAQ,CAACO,MAAV,CAA9B;AACA,YAAM,CAACC,GAAD,EAAMC,GAAN,IAAaT,QAAQ,CAACO,MAAT,IAAmB,CAAC,CAAD,EAAI,CAAJ,CAAtC;AACA,YAAMG,GAAG,GAAG,CAACD,GAAG,GAAGD,GAAP,IAAc,CAA1B;AACA,YAAMG,GAAG,GAAGjB,MAAM,CAAE,IAAGY,SAAU,GAAf,CAAlB;AACA,aAAO,CAACK,GAAG,CAACH,GAAD,CAAJ,EAAWG,GAAG,CAACD,GAAD,CAAd,EAAqBC,GAAG,CAACF,GAAD,CAAxB,CAAP;AACH;AACJ,GAboB,EAalB,CAACP,SAAD,EAAYF,QAAZ,CAbkB,CAArB;AAcA,SAAQL,KAAK,CAACiB,aAAN,CAAoBC,SAApB,EAA+B,IAA/B,EACJlB,KAAK,CAACiB,aAAN,CAAoBE,IAApB,EAA0B,IAA1B,EAAgCX,KAAK,CAAC,CAAD,CAArC,CADI,EAEJF,eAAe,IAAIN,KAAK,CAACiB,aAAN,CAAoBG,MAApB,EAA4B,IAA5B,EAAkCZ,KAAK,CAAC,CAAD,CAAvC,CAFf,EAGJR,KAAK,CAACiB,aAAN,CAAoBI,KAApB,EAA2B,IAA3B,EAAiCb,KAAK,CAAC,CAAD,CAAtC,CAHI,CAAR;AAIH,CApBM;AAqBP,MAAMU,SAAS,GAAGhB,MAAM,CAACoB,GAAK;AAC9B;AACA;AACA;AACA,CAJA;AAKA,MAAMH,IAAI,GAAGjB,MAAM,CAACoB,GAAK,EAAzB;AACA,MAAMF,MAAM,GAAGlB,MAAM,CAACoB,GAAK;AAC3B;AACA,CAFA;AAGA,MAAMD,KAAK,GAAGnB,MAAM,CAACoB,GAAK;AAC1B;AACA,CAFA","sourcesContent":["import { useIsNominal } from './hooks';\r\nimport { format } from 'd3-format';\r\nimport React, { useMemo } from 'react';\r\nimport styled from 'styled-components';\r\nimport { getPrecision } from '~/arquero';\r\nexport const ColorRangeText = ({ encoding, includeMidpoint = false, }) => {\r\n    const isNominal = useIsNominal(encoding);\r\n    const range = useMemo(() => {\r\n        if (isNominal) {\r\n            const { uniques = [] } = encoding;\r\n            const length = uniques.length;\r\n            return [`${length} unique value${length !== 1 ? 's' : ''}`, '', ''];\r\n        }\r\n        else {\r\n            const precision = getPrecision(encoding.domain);\r\n            const [min, max] = encoding.domain || [0, 1];\r\n            const mid = (max - min) / 2;\r\n            const fmt = format(`.${precision}f`);\r\n            return [fmt(min), fmt(mid), fmt(max)];\r\n        }\r\n    }, [isNominal, encoding]);\r\n    return (React.createElement(Container, null,\r\n        React.createElement(Left, null, range[0]),\r\n        includeMidpoint && React.createElement(Center, null, range[1]),\r\n        React.createElement(Right, null, range[2])));\r\n};\r\nconst Container = styled.div `\r\n\tfont-size: 0.7em;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n`;\r\nconst Left = styled.div ``;\r\nconst Center = styled.div `\r\n\ttext-align: center;\r\n`;\r\nconst Right = styled.div `\r\n\ttext-align: right;\r\n`;\r\n"]}]}