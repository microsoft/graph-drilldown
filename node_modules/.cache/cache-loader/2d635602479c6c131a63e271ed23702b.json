{"remainingRequest":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\babel-loader-virtual-fd8dd261de\\0\\cache\\babel-loader-npm-8.2.2-b4e600c2c5-df5092ef98.zip\\node_modules\\babel-loader\\lib\\index.js??ruleSet[1].rules[0].use[1]!C:\\ws\\graph-drill\\.yarn\\__virtual__\\ts-loader-virtual-aa0d54d245\\0\\cache\\ts-loader-npm-9.2.1-40e1a5908e-1f2e61905d.zip\\node_modules\\ts-loader\\index.js??ruleSet[1].rules[0].use[2]!C:\\ws\\graph-drill\\src\\controls\\NumericSelector\\ScaledPicker.tsx","dependencies":[{"path":"C:\\ws\\graph-drill\\src\\controls\\NumericSelector\\ScaledPicker.tsx","mtime":1631029334851},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\cache-loader-virtual-2fd14a2267\\0\\cache\\cache-loader-npm-4.1.0-82c3da90d8-0339778bdd.zip\\node_modules\\cache-loader\\dist\\cjs.js","mtime":456789000000},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\babel-loader-virtual-fd8dd261de\\0\\cache\\babel-loader-npm-8.2.2-b4e600c2c5-df5092ef98.zip\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\ts-loader-virtual-aa0d54d245\\0\\cache\\ts-loader-npm-9.2.1-40e1a5908e-1f2e61905d.zip\\node_modules\\ts-loader\\index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyohDQogKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdC4gQWxsIHJpZ2h0cyByZXNlcnZlZC4NCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS4gU2VlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcHJvamVjdC4NCiAqLwppbXBvcnQgeyBOdW1lcmljRG9tYWluRWRpdG9yIH0gZnJvbSAnLi4vTnVtZXJpY0RvbWFpbkVkaXRvcic7CmltcG9ydCB7IE51bWVyaWNSYW5nZUVkaXRvciB9IGZyb20gJy4uL051bWVyaWNSYW5nZUVkaXRvcic7CmltcG9ydCB7IERyb3Bkb3duIH0gZnJvbSAnQGZsdWVudHVpL3JlYWN0JzsKaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJzsKaW1wb3J0IHsgY29sdW1uVHlwZXMgfSBmcm9tICd+L2FycXVlcm8nOwpleHBvcnQgY29uc3QgU2NhbGVkUGlja2VyID0gKHsKICB0YWJsZSwKICBlbmNvZGluZywKICBvbkNoYW5nZSwKICBtaW4sCiAgbWF4LAogIHN0ZXAKfSkgPT4gewogIGNvbnN0IGZpZWxkT3B0aW9ucyA9IHVzZUZpZWxkRHJvcGRvd25PcHRpb25zKHRhYmxlKTsKICBjb25zdCBoYW5kbGVGaWVsZENoYW5nZSA9IHVzZUNhbGxiYWNrKChfLCBvcHRpb24pID0+IHsKICAgIG9uQ2hhbmdlKHsKICAgICAgZmllbGQ6IG9wdGlvbi5rZXkKICAgIH0pOwogIH0sIFtvbkNoYW5nZV0pOwogIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KENvbnRhaW5lciwgbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChHcm91cCwgbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChEcm9wZG93biwgewogICAgbGFiZWw6ICdDb2x1bW4nLAogICAgb3B0aW9uczogZmllbGRPcHRpb25zLAogICAgc2VsZWN0ZWRLZXk6IGVuY29kaW5nLmZpZWxkLAogICAgb25DaGFuZ2U6IGhhbmRsZUZpZWxkQ2hhbmdlLAogICAgcGxhY2Vob2xkZXI6ICdTZWxlY3QgZGF0YSBjb2x1bW4nCiAgfSkpLCBSZWFjdC5jcmVhdGVFbGVtZW50KEdyb3VwLCBudWxsLCBSZWFjdC5jcmVhdGVFbGVtZW50KE51bWVyaWNEb21haW5FZGl0b3IsIHsKICAgIHRhYmxlOiB0YWJsZSwKICAgIGVuY29kaW5nOiBlbmNvZGluZywKICAgIG9uQ2hhbmdlOiBvbkNoYW5nZQogIH0pKSwgUmVhY3QuY3JlYXRlRWxlbWVudChHcm91cCwgbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChOdW1lcmljUmFuZ2VFZGl0b3IsIHsKICAgIGVuY29kaW5nOiBlbmNvZGluZywKICAgIG9uQ2hhbmdlOiBvbkNoYW5nZSwKICAgIG1pbjogbWluLAogICAgbWF4OiBtYXgsCiAgICAvLyBUT0RPOiBzaG91bGQgdGhpcyB1c2Ugc3RlcCBvciBwcmVjaXNpb24gZm9yIGNvbnNpc3RlbmN5PwogICAgcHJlY2lzaW9uOiBNYXRoLmNlaWwoc3RlcCB8fCAxKQogIH0pKSk7Cn07IC8vIGZvciBvcGFjaXR5LCB3ZSBjYW4gb25seSBhbGxvdyBudW1lcmljIGJpbmRpbmdzCgpmdW5jdGlvbiB1c2VGaWVsZERyb3Bkb3duT3B0aW9ucyh0YWJsZSkgewogIHJldHVybiB1c2VNZW1vKCgpID0+IHsKICAgIGNvbnN0IHR5cGVzID0gY29sdW1uVHlwZXModGFibGUpOwogICAgcmV0dXJuIHR5cGVzLmZpbHRlcih0ID0+IHQudHlwZSA9PT0gJ251bWJlcicpLm1hcCgoewogICAgICBuYW1lCiAgICB9KSA9PiAoewogICAgICBrZXk6IG5hbWUsCiAgICAgIHRleHQ6IG5hbWUKICAgIH0pKTsKICB9LCBbdGFibGVdKTsKfQoKY29uc3QgQ29udGFpbmVyID0gc3R5bGVkLmRpdmBgOwpjb25zdCBHcm91cCA9IHN0eWxlZC5kaXZgCgltYXJnaW4tdG9wOiAyMHB4OwpgOw=="},{"version":3,"sources":["C:/ws/graph-drill/src/controls/NumericSelector/ScaledPicker.tsx"],"names":["NumericDomainEditor","NumericRangeEditor","Dropdown","React","useCallback","useMemo","styled","columnTypes","ScaledPicker","table","encoding","onChange","min","max","step","fieldOptions","useFieldDropdownOptions","handleFieldChange","_","option","field","key","createElement","Container","Group","label","options","selectedKey","placeholder","precision","Math","ceil","types","filter","t","type","map","name","text","div"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAASA,mBAAT,QAAoC,wBAApC;AACA,SAASC,kBAAT,QAAmC,uBAAnC;AACA,SAASC,QAAT,QAAyB,iBAAzB;AACA,OAAOC,KAAP,IAAgBC,WAAhB,EAA6BC,OAA7B,QAA4C,OAA5C;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,WAAT,QAA4B,WAA5B;AACA,OAAO,MAAMC,YAAY,GAAG,CAAC;AAAEC,EAAAA,KAAF;AAASC,EAAAA,QAAT;AAAmBC,EAAAA,QAAnB;AAA6BC,EAAAA,GAA7B;AAAkCC,EAAAA,GAAlC;AAAuCC,EAAAA;AAAvC,CAAD,KAAoD;AAC5E,QAAMC,YAAY,GAAGC,uBAAuB,CAACP,KAAD,CAA5C;AACA,QAAMQ,iBAAiB,GAAGb,WAAW,CAAC,CAACc,CAAD,EAAIC,MAAJ,KAAe;AACjDR,IAAAA,QAAQ,CAAC;AACLS,MAAAA,KAAK,EAAED,MAAM,CAACE;AADT,KAAD,CAAR;AAGH,GAJoC,EAIlC,CAACV,QAAD,CAJkC,CAArC;AAKA,SAAQR,KAAK,CAACmB,aAAN,CAAoBC,SAApB,EAA+B,IAA/B,EACJpB,KAAK,CAACmB,aAAN,CAAoBE,KAApB,EAA2B,IAA3B,EACIrB,KAAK,CAACmB,aAAN,CAAoBpB,QAApB,EAA8B;AAAEuB,IAAAA,KAAK,EAAE,QAAT;AAAmBC,IAAAA,OAAO,EAAEX,YAA5B;AAA0CY,IAAAA,WAAW,EAAEjB,QAAQ,CAACU,KAAhE;AAAuET,IAAAA,QAAQ,EAAEM,iBAAjF;AAAoGW,IAAAA,WAAW,EAAE;AAAjH,GAA9B,CADJ,CADI,EAGJzB,KAAK,CAACmB,aAAN,CAAoBE,KAApB,EAA2B,IAA3B,EACIrB,KAAK,CAACmB,aAAN,CAAoBtB,mBAApB,EAAyC;AAAES,IAAAA,KAAK,EAAEA,KAAT;AAAgBC,IAAAA,QAAQ,EAAEA,QAA1B;AAAoCC,IAAAA,QAAQ,EAAEA;AAA9C,GAAzC,CADJ,CAHI,EAKJR,KAAK,CAACmB,aAAN,CAAoBE,KAApB,EAA2B,IAA3B,EACIrB,KAAK,CAACmB,aAAN,CAAoBrB,kBAApB,EAAwC;AAAES,IAAAA,QAAQ,EAAEA,QAAZ;AAAsBC,IAAAA,QAAQ,EAAEA,QAAhC;AAA0CC,IAAAA,GAAG,EAAEA,GAA/C;AAAoDC,IAAAA,GAAG,EAAEA,GAAzD;AACpC;AACAgB,IAAAA,SAAS,EAAEC,IAAI,CAACC,IAAL,CAAUjB,IAAI,IAAI,CAAlB;AAFyB,GAAxC,CADJ,CALI,CAAR;AASH,CAhBM,C,CAiBP;;AACA,SAASE,uBAAT,CAAiCP,KAAjC,EAAwC;AACpC,SAAOJ,OAAO,CAAC,MAAM;AACjB,UAAM2B,KAAK,GAAGzB,WAAW,CAACE,KAAD,CAAzB;AACA,WAAOuB,KAAK,CACPC,MADE,CACKC,CAAC,IAAIA,CAAC,CAACC,IAAF,KAAW,QADrB,EAEFC,GAFE,CAEE,CAAC;AAAEC,MAAAA;AAAF,KAAD,MAAe;AACpBhB,MAAAA,GAAG,EAAEgB,IADe;AAEpBC,MAAAA,IAAI,EAAED;AAFc,KAAf,CAFF,CAAP;AAMH,GARa,EAQX,CAAC5B,KAAD,CARW,CAAd;AASH;;AACD,MAAMc,SAAS,GAAGjB,MAAM,CAACiC,GAAK,EAA9B;AACA,MAAMf,KAAK,GAAGlB,MAAM,CAACiC,GAAK;AAC1B;AACA,CAFA","sourcesContent":["/*!\r\n * Copyright (c) Microsoft. All rights reserved.\r\n * Licensed under the MIT license. See LICENSE file in the project.\r\n */\r\nimport { NumericDomainEditor } from '../NumericDomainEditor';\r\nimport { NumericRangeEditor } from '../NumericRangeEditor';\r\nimport { Dropdown } from '@fluentui/react';\r\nimport React, { useCallback, useMemo } from 'react';\r\nimport styled from 'styled-components';\r\nimport { columnTypes } from '~/arquero';\r\nexport const ScaledPicker = ({ table, encoding, onChange, min, max, step, }) => {\r\n    const fieldOptions = useFieldDropdownOptions(table);\r\n    const handleFieldChange = useCallback((_, option) => {\r\n        onChange({\r\n            field: option.key,\r\n        });\r\n    }, [onChange]);\r\n    return (React.createElement(Container, null,\r\n        React.createElement(Group, null,\r\n            React.createElement(Dropdown, { label: 'Column', options: fieldOptions, selectedKey: encoding.field, onChange: handleFieldChange, placeholder: 'Select data column' })),\r\n        React.createElement(Group, null,\r\n            React.createElement(NumericDomainEditor, { table: table, encoding: encoding, onChange: onChange })),\r\n        React.createElement(Group, null,\r\n            React.createElement(NumericRangeEditor, { encoding: encoding, onChange: onChange, min: min, max: max, \r\n                // TODO: should this use step or precision for consistency?\r\n                precision: Math.ceil(step || 1) }))));\r\n};\r\n// for opacity, we can only allow numeric bindings\r\nfunction useFieldDropdownOptions(table) {\r\n    return useMemo(() => {\r\n        const types = columnTypes(table);\r\n        return types\r\n            .filter(t => t.type === 'number')\r\n            .map(({ name }) => ({\r\n            key: name,\r\n            text: name,\r\n        }));\r\n    }, [table]);\r\n}\r\nconst Container = styled.div ``;\r\nconst Group = styled.div `\r\n\tmargin-top: 20px;\r\n`;\r\n"]}]}