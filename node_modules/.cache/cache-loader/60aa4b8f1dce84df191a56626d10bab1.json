{"remainingRequest":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\babel-loader-virtual-fd8dd261de\\0\\cache\\babel-loader-npm-8.2.2-b4e600c2c5-df5092ef98.zip\\node_modules\\babel-loader\\lib\\index.js??ruleSet[1].rules[0].use[1]!C:\\ws\\graph-drill\\.yarn\\__virtual__\\ts-loader-virtual-aa0d54d245\\0\\cache\\ts-loader-npm-9.2.1-40e1a5908e-1f2e61905d.zip\\node_modules\\ts-loader\\index.js??ruleSet[1].rules[0].use[2]!C:\\ws\\graph-drill\\src\\layout\\umap.ts","dependencies":[{"path":"C:\\ws\\graph-drill\\src\\layout\\umap.ts","mtime":1631029334877},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\cache-loader-virtual-2fd14a2267\\0\\cache\\cache-loader-npm-4.1.0-82c3da90d8-0339778bdd.zip\\node_modules\\cache-loader\\dist\\cjs.js","mtime":456789000000},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\babel-loader-virtual-fd8dd261de\\0\\cache\\babel-loader-npm-8.2.2-b4e600c2c5-df5092ef98.zip\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\ts-loader-virtual-aa0d54d245\\0\\cache\\ts-loader-npm-9.2.1-40e1a5908e-1f2e61905d.zip\\node_modules\\ts-loader\\index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyohDQogKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdC4gQWxsIHJpZ2h0cyByZXNlcnZlZC4NCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS4gU2VlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcHJvamVjdC4NCiAqLwppbXBvcnQgeyB1bWFwTGF5b3V0IH0gZnJvbSAnLi4vYXBpJzsKaW1wb3J0IHsgRWRnZUNvbGxlY3Rpb24sIG5vcm1hbGl6ZVhZIH0gZnJvbSAnLi4vYXJxdWVybyc7CmltcG9ydCB7IGZyb20gfSBmcm9tICdhcnF1ZXJvJzsKLyoqDQogKiBSdW5zIG91ciBhdXRvbGF5b3V0IHVtYXAgLSBub3RlIHRoYXQgdGhpcyBtb3N0bHkganVzdCB0aHVua3Mgb3ZlciB0byB0aGUgd2ViIHNlcnZpY2UuDQogKiBAcGFyYW0gZWRnZXMNCiAqLwoKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxheW91dFVtYXAoZWRnZXMpIHsKICBjb25zdCBwb3NpdGlvbnMgPSBhd2FpdCB1bWFwTGF5b3V0KG5ldyBFZGdlQ29sbGVjdGlvbihlZGdlcykpOwogIGNvbnN0IHRyYW5zZm9ybWVkID0gcG9zaXRpb25zLm1hcChuID0+ICh7CiAgICAnbm9kZS5pZCc6IG4uaWQsCiAgICAnbm9kZS54Jzogbi54LAogICAgJ25vZGUueSc6IG4ueSwKICAgICdub2RlLmQnOiBuLmQsCiAgICAnY29tbXVuaXR5LmlkJzogbi5jb21tdW5pdHkKICB9KSk7CiAgY29uc3Qgbm9kZXMgPSBmcm9tKHRyYW5zZm9ybWVkKTsKICByZXR1cm4gbm9ybWFsaXplWFkobm9kZXMpOwp9"},{"version":3,"sources":["C:/ws/graph-drill/src/layout/umap.ts"],"names":["umapLayout","EdgeCollection","normalizeXY","from","layoutUmap","edges","positions","transformed","map","n","id","x","y","d","community","nodes"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAASA,UAAT,QAA2B,QAA3B;AACA,SAASC,cAAT,EAAyBC,WAAzB,QAA4C,YAA5C;AACA,SAASC,IAAT,QAAqB,SAArB;AACA;AACA;AACA;AACA;;AACA,OAAO,eAAeC,UAAf,CAA0BC,KAA1B,EAAiC;AACpC,QAAMC,SAAS,GAAG,MAAMN,UAAU,CAAC,IAAIC,cAAJ,CAAmBI,KAAnB,CAAD,CAAlC;AACA,QAAME,WAAW,GAAGD,SAAS,CAACE,GAAV,CAAcC,CAAC,KAAK;AACpC,eAAWA,CAAC,CAACC,EADuB;AAEpC,cAAUD,CAAC,CAACE,CAFwB;AAGpC,cAAUF,CAAC,CAACG,CAHwB;AAIpC,cAAUH,CAAC,CAACI,CAJwB;AAKpC,oBAAgBJ,CAAC,CAACK;AALkB,GAAL,CAAf,CAApB;AAOA,QAAMC,KAAK,GAAGZ,IAAI,CAACI,WAAD,CAAlB;AACA,SAAOL,WAAW,CAACa,KAAD,CAAlB;AACH","sourcesContent":["/*!\r\n * Copyright (c) Microsoft. All rights reserved.\r\n * Licensed under the MIT license. See LICENSE file in the project.\r\n */\r\nimport { umapLayout } from '../api';\r\nimport { EdgeCollection, normalizeXY } from '../arquero';\r\nimport { from } from 'arquero';\r\n/**\r\n * Runs our autolayout umap - note that this mostly just thunks over to the web service.\r\n * @param edges\r\n */\r\nexport async function layoutUmap(edges) {\r\n    const positions = await umapLayout(new EdgeCollection(edges));\r\n    const transformed = positions.map(n => ({\r\n        'node.id': n.id,\r\n        'node.x': n.x,\r\n        'node.y': n.y,\r\n        'node.d': n.d,\r\n        'community.id': n.community,\r\n    }));\r\n    const nodes = from(transformed);\r\n    return normalizeXY(nodes);\r\n}\r\n"]}]}