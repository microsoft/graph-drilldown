{"remainingRequest":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\babel-loader-virtual-fd8dd261de\\0\\cache\\babel-loader-npm-8.2.2-b4e600c2c5-df5092ef98.zip\\node_modules\\babel-loader\\lib\\index.js??ruleSet[1].rules[0].use[1]!C:\\ws\\graph-drill\\.yarn\\__virtual__\\ts-loader-virtual-aa0d54d245\\0\\cache\\ts-loader-npm-9.2.1-40e1a5908e-1f2e61905d.zip\\node_modules\\ts-loader\\index.js??ruleSet[1].rules[0].use[2]!C:\\ws\\graph-drill\\src\\components\\QuickDrop\\QuickDrop.tsx","dependencies":[{"path":"C:\\ws\\graph-drill\\src\\components\\QuickDrop\\QuickDrop.tsx","mtime":1631029334798},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\cache-loader-virtual-2fd14a2267\\0\\cache\\cache-loader-npm-4.1.0-82c3da90d8-0339778bdd.zip\\node_modules\\cache-loader\\dist\\cjs.js","mtime":456789000000},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\babel-loader-virtual-fd8dd261de\\0\\cache\\babel-loader-npm-8.2.2-b4e600c2c5-df5092ef98.zip\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\ts-loader-virtual-aa0d54d245\\0\\cache\\ts-loader-npm-9.2.1-40e1a5908e-1f2e61905d.zip\\node_modules\\ts-loader\\index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyohDQogKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdC4gQWxsIHJpZ2h0cyByZXNlcnZlZC4NCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS4gU2VlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcHJvamVjdC4NCiAqLwppbXBvcnQgeyBwYXJzZURTVlRhYmxlIH0gZnJvbSAnLi4vLi4vYXBpJzsKaW1wb3J0IHsgRmlsZURyb3AgfSBmcm9tICcuLi8uLi9jb250cm9scy9GaWxlRHJvcCc7CmltcG9ydCB7IHZhcmlhbnRzIH0gZnJvbSAnLi4vLi4vc3R5bGVzJzsKaW1wb3J0IHsgRmlsZU9yaWdpbiB9IGZyb20gJy4uLy4uL3R5cGVzJzsKaW1wb3J0IHsgRGVmYXVsdEJ1dHRvbiwgVGV4dCB9IGZyb20gJ0BmbHVlbnR1aS9yZWFjdCc7CmltcG9ydCBSZWFjdCwgeyB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7CmltcG9ydCB7IHVzZUFycXVlcm9BZGRUYWJsZSwgdXNlQXJxdWVyb0JpZ1RhYmxlLCB1c2VBcnF1ZXJvRWRnZVRhYmxlLCB1c2VDbGVhckFsbERhdGEgfSBmcm9tICd+L2FycXVlcm8nOwppbXBvcnQgeyB1c2VBZGRGaWxlLCB1c2VDbGVhckZpbGVzIH0gZnJvbSAnfi9zdGF0ZSc7CmNvbnN0IFNRVUFSRSA9IDgwOwovKioNCiAqIFRoaXMgY29tcG9uZW50IHByZXNlbnRzIGEgcXVpY2stZHJvcCBhcmVhIGZvciB1c2VycyB0byBsb2FkIGRhdGEgaW50byB0aGUgYXBwDQogKiBhbmQgaGF2ZSBpdCBhdXRvbWF0aWNhbGx5IHByb2Nlc3NlZCBhY2NvcmRpbmcgdG8gaXRzIHR5cGUuDQogKiBAcGFyYW0gcGFyYW0wDQogKi8KCmV4cG9ydCBjb25zdCBRdWlja0Ryb3AgPSAoewogIGRyb3BXaWR0aFNpemUgPSBTUVVBUkUsCiAgZHJvcEhlaWdodFNpemUgPSBTUVVBUkUsCiAgY29tcGFjdCA9IGZhbHNlCn0pID0+IHsKICBjb25zdCBiaWdUYWJsZSA9IHVzZUFycXVlcm9CaWdUYWJsZSgpOwogIGNvbnN0IGVkZ2VUYWJsZSA9IHVzZUFycXVlcm9FZGdlVGFibGUoKTsKICBjb25zdCBhZGRUYWJsZSA9IHVzZUFycXVlcm9BZGRUYWJsZSgpOwogIGNvbnN0IGFkZEZpbGUgPSB1c2VBZGRGaWxlKCk7CiAgY29uc3QgcmVzZXRUYWJsZXMgPSB1c2VDbGVhckFsbERhdGEoKTsKICBjb25zdCByZXNldEZpbGVzID0gdXNlQ2xlYXJGaWxlcygpOwogIGNvbnN0IGhhbmRsZUZpbGVMb2FkID0gdXNlQ2FsbGJhY2soKGNvbnRlbnQsIHR5cGUsIGZpbGVOYW1lKSA9PiB7CiAgICBjb25zdCB0YWJsZSA9IHBhcnNlRFNWVGFibGUoZmlsZU5hbWUsIGNvbnRlbnQpOwogICAgYWRkVGFibGUodGFibGUsIHR5cGUpOwogICAgYWRkRmlsZSh7CiAgICAgIG9yaWdpbjogRmlsZU9yaWdpbi5Mb2NhbCwKICAgICAgdXJsOiBmaWxlTmFtZSwKICAgICAgdGFibGVUeXBlOiB0eXBlLAogICAgICB0YWJsZSwKICAgICAgcm93czogdGFibGUubnVtUm93cygpCiAgICB9KTsKICB9LCBbYWRkVGFibGUsIGFkZEZpbGVdKTsKICBjb25zdCBoYW5kbGVSZXNldENsaWNrID0gdXNlQ2FsbGJhY2soKCkgPT4gewogICAgcmVzZXRUYWJsZXMoKTsKICAgIHJlc2V0RmlsZXMoKTsKICB9LCBbcmVzZXRUYWJsZXMsIHJlc2V0RmlsZXNdKTsKICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDb250YWluZXIsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRHJvcEFyZWEsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRmlsZURyb3AsIHsKICAgIG9uRmlsZUxvYWQ6IGhhbmRsZUZpbGVMb2FkLAogICAgdHlwZTogJ25vZGUnLAogICAgd2lkdGg6IGRyb3BXaWR0aFNpemUsCiAgICBoZWlnaHQ6IGRyb3BIZWlnaHRTaXplLAogICAgY29tcGFjdDogY29tcGFjdAogIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KEZpbGVEcm9wLCB7CiAgICBvbkZpbGVMb2FkOiBoYW5kbGVGaWxlTG9hZCwKICAgIHR5cGU6ICdlZGdlJywKICAgIHdpZHRoOiBkcm9wV2lkdGhTaXplLAogICAgaGVpZ2h0OiBkcm9wSGVpZ2h0U2l6ZSwKICAgIGNvbXBhY3Q6IGNvbXBhY3QKICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChGaWxlRHJvcCwgewogICAgb25GaWxlTG9hZDogaGFuZGxlRmlsZUxvYWQsCiAgICB0eXBlOiAnam9pbicsCiAgICB3aWR0aDogZHJvcFdpZHRoU2l6ZSwKICAgIGhlaWdodDogZHJvcEhlaWdodFNpemUsCiAgICBjb21wYWN0OiBjb21wYWN0CiAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRmlsZURyb3AsIHsKICAgIG9uRmlsZUxvYWQ6IGhhbmRsZUZpbGVMb2FkLAogICAgdHlwZTogJ2NvbW11bml0eScsCiAgICB3aWR0aDogZHJvcFdpZHRoU2l6ZSwKICAgIGhlaWdodDogZHJvcEhlaWdodFNpemUsCiAgICBjb21wYWN0OiBjb21wYWN0CiAgfSkpLCAhY29tcGFjdCA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoSGVscGVyVGV4dCwgbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0LCB7CiAgICB2YXJpYW50OiB2YXJpYW50cy5tZWRpdW0KICB9LCAiRmlsZXMgbXVzdCBoYXZlIGEgIiwgUmVhY3QuY3JlYXRlRWxlbWVudCgiYiIsIG51bGwsICJoZWFkZXIgcm93IiksICIsIGFuICIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImIiLCBudWxsLCAiaWQiKSwgIiBjb2x1bW4sIGFuZCB1c2UiLCAnICcsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImIiLCBudWxsLCAiY3N2IiksICIgb3IgIiwgUmVhY3QuY3JlYXRlRWxlbWVudCgiYiIsIG51bGwsICJ0c3YiKSwgIiBmb3JtYXQiKSkgOiBudWxsLCBSZWFjdC5jcmVhdGVFbGVtZW50KFJlc2V0LCBudWxsLCAoYmlnVGFibGUubnVtUm93cygpID4gMCB8fCBlZGdlVGFibGUubnVtUm93cygpID4gMCkgJiYgY29tcGFjdCA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGVmYXVsdEJ1dHRvbiwgewogICAgdGV4dDogIkNsZWFyIGFsbCIsCiAgICBvbkNsaWNrOiBoYW5kbGVSZXNldENsaWNrCiAgfSkgOiBudWxsKSk7Cn07CmNvbnN0IENvbnRhaW5lciA9IHN0eWxlZC5kaXZgCgltYXJnaW46IDEwcHg7CgltYXJnaW4tYm90dG9tOiAxMHB4OwpgOwpjb25zdCBIZWxwZXJUZXh0ID0gc3R5bGVkLmRpdmAKCW1hcmdpbi10b3A6IDhweDsKCXRleHQtYWxpZ246IGNlbnRlcjsKYDsKY29uc3QgRHJvcEFyZWEgPSBzdHlsZWQuZGl2YAoJZGlzcGxheTogZmxleDsKCWZsZXgtd3JhcDogd3JhcDsKCWp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kOwpgOwpjb25zdCBSZXNldCA9IHN0eWxlZC5kaXZgCgltYXJnaW4tdG9wOiAxMHB4OwoJZGlzcGxheTogZmxleDsKCWp1c3RpZnktY29udGVudDogY2VudGVyOwpgOw=="},{"version":3,"sources":["C:/ws/graph-drill/src/components/QuickDrop/QuickDrop.tsx"],"names":["parseDSVTable","FileDrop","variants","FileOrigin","DefaultButton","Text","React","useCallback","styled","useArqueroAddTable","useArqueroBigTable","useArqueroEdgeTable","useClearAllData","useAddFile","useClearFiles","SQUARE","QuickDrop","dropWidthSize","dropHeightSize","compact","bigTable","edgeTable","addTable","addFile","resetTables","resetFiles","handleFileLoad","content","type","fileName","table","origin","Local","url","tableType","rows","numRows","handleResetClick","createElement","Container","DropArea","onFileLoad","width","height","HelperText","variant","medium","Reset","text","onClick","div"],"mappings":"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","sourcesContent":["/*!\r\n * Copyright (c) Microsoft. All rights reserved.\r\n * Licensed under the MIT license. See LICENSE file in the project.\r\n */\r\nimport { parseDSVTable } from '../../api';\r\nimport { FileDrop } from '../../controls/FileDrop';\r\nimport { variants } from '../../styles';\r\nimport { FileOrigin } from '../../types';\r\nimport { DefaultButton, Text } from '@fluentui/react';\r\nimport React, { useCallback } from 'react';\r\nimport styled from 'styled-components';\r\nimport { useArqueroAddTable, useArqueroBigTable, useArqueroEdgeTable, useClearAllData, } from '~/arquero';\r\nimport { useAddFile, useClearFiles } from '~/state';\r\nconst SQUARE = 80;\r\n/**\r\n * This component presents a quick-drop area for users to load data into the app\r\n * and have it automatically processed according to its type.\r\n * @param param0\r\n */\r\nexport const QuickDrop = ({ dropWidthSize = SQUARE, dropHeightSize = SQUARE, compact = false, }) => {\r\n    const bigTable = useArqueroBigTable();\r\n    const edgeTable = useArqueroEdgeTable();\r\n    const addTable = useArqueroAddTable();\r\n    const addFile = useAddFile();\r\n    const resetTables = useClearAllData();\r\n    const resetFiles = useClearFiles();\r\n    const handleFileLoad = useCallback((content, type, fileName) => {\r\n        const table = parseDSVTable(fileName, content);\r\n        addTable(table, type);\r\n        addFile({\r\n            origin: FileOrigin.Local,\r\n            url: fileName,\r\n            tableType: type,\r\n            table,\r\n            rows: table.numRows(),\r\n        });\r\n    }, [addTable, addFile]);\r\n    const handleResetClick = useCallback(() => {\r\n        resetTables();\r\n        resetFiles();\r\n    }, [resetTables, resetFiles]);\r\n    return (React.createElement(Container, null,\r\n        React.createElement(DropArea, null,\r\n            React.createElement(FileDrop, { onFileLoad: handleFileLoad, type: 'node', width: dropWidthSize, height: dropHeightSize, compact: compact }),\r\n            React.createElement(FileDrop, { onFileLoad: handleFileLoad, type: 'edge', width: dropWidthSize, height: dropHeightSize, compact: compact }),\r\n            React.createElement(FileDrop, { onFileLoad: handleFileLoad, type: 'join', width: dropWidthSize, height: dropHeightSize, compact: compact }),\r\n            React.createElement(FileDrop, { onFileLoad: handleFileLoad, type: 'community', width: dropWidthSize, height: dropHeightSize, compact: compact })),\r\n        !compact ? (React.createElement(HelperText, null,\r\n            React.createElement(Text, { variant: variants.medium },\r\n                \"Files must have a \",\r\n                React.createElement(\"b\", null, \"header row\"),\r\n                \", an \",\r\n                React.createElement(\"b\", null, \"id\"),\r\n                \" column, and use\",\r\n                ' ',\r\n                React.createElement(\"b\", null, \"csv\"),\r\n                \" or \",\r\n                React.createElement(\"b\", null, \"tsv\"),\r\n                \" format\"))) : null,\r\n        React.createElement(Reset, null, (bigTable.numRows() > 0 || edgeTable.numRows() > 0) && compact ? (React.createElement(DefaultButton, { text: \"Clear all\", onClick: handleResetClick })) : null)));\r\n};\r\nconst Container = styled.div `\r\n\tmargin: 10px;\r\n\tmargin-bottom: 10px;\r\n`;\r\nconst HelperText = styled.div `\r\n\tmargin-top: 8px;\r\n\ttext-align: center;\r\n`;\r\nconst DropArea = styled.div `\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tjustify-content: space-around;\r\n`;\r\nconst Reset = styled.div `\r\n\tmargin-top: 10px;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n`;\r\n"]}]}