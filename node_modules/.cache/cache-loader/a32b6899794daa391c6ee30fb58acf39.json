{"remainingRequest":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\babel-loader-virtual-fd8dd261de\\0\\cache\\babel-loader-npm-8.2.2-b4e600c2c5-df5092ef98.zip\\node_modules\\babel-loader\\lib\\index.js??ruleSet[1].rules[0].use[1]!C:\\ws\\graph-drill\\.yarn\\__virtual__\\ts-loader-virtual-aa0d54d245\\0\\cache\\ts-loader-npm-9.2.1-40e1a5908e-1f2e61905d.zip\\node_modules\\ts-loader\\index.js??ruleSet[1].rules[0].use[2]!C:\\ws\\graph-drill\\src\\components\\App\\pages\\GraphViewerPage\\hooks\\useResizeHandlers.ts","dependencies":[{"path":"C:\\ws\\graph-drill\\src\\components\\App\\pages\\GraphViewerPage\\hooks\\useResizeHandlers.ts","mtime":1631029334751},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\cache-loader-virtual-2fd14a2267\\0\\cache\\cache-loader-npm-4.1.0-82c3da90d8-0339778bdd.zip\\node_modules\\cache-loader\\dist\\cjs.js","mtime":456789000000},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\babel-loader-virtual-fd8dd261de\\0\\cache\\babel-loader-npm-8.2.2-b4e600c2c5-df5092ef98.zip\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\ts-loader-virtual-aa0d54d245\\0\\cache\\ts-loader-npm-9.2.1-40e1a5908e-1f2e61905d.zip\\node_modules\\ts-loader\\index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgeyBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IH0ga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9CgppbXBvcnQgeyB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgQ09NTUFOREJBUl9IRUlHSFQgfSBmcm9tICd+L3N0eWxlcyc7CmV4cG9ydCB2YXIgQ1NTRmlsdGVyOwoKKGZ1bmN0aW9uIChDU1NGaWx0ZXIpIHsKICBDU1NGaWx0ZXJbIk5PTkUiXSA9ICJub25lIjsKICBDU1NGaWx0ZXJbIkdSQVlTQ0FMRSJdID0gImdyYXlzY2FsZSg3NSUpIjsKfSkoQ1NTRmlsdGVyIHx8IChDU1NGaWx0ZXIgPSB7fSkpOwoKZXhwb3J0IHZhciBESVJFQ1RJT047CgooZnVuY3Rpb24gKERJUkVDVElPTikgewogIERJUkVDVElPTlsiVVAiXSA9ICJ1cCI7CiAgRElSRUNUSU9OWyJET1dOIl0gPSAiZG93biI7Cn0pKERJUkVDVElPTiB8fCAoRElSRUNUSU9OID0ge30pKTsKCmV4cG9ydCBmdW5jdGlvbiB1c2VSZXNpemVIYW5kbGVycyh7CiAgaGVpZ2h0LAogIHBvc2l0aW9uLAogIHNldFBvc2l0aW9uLAogIHNldEdyYXBoRmlsdGVyCn0pIHsKICBjb25zdCBoYW5kbGVSZXNpemVTdGFydCA9IHVzZUNhbGxiYWNrKChlLCBkaXJlY3Rpb24sIHJlZiwgZGVsdGEsIHBvcykgPT4gewogICAgc2V0R3JhcGhGaWx0ZXIoQ1NTRmlsdGVyLkdSQVlTQ0FMRSk7CiAgfSwgW3NldEdyYXBoRmlsdGVyXSk7CiAgY29uc3QgaGFuZGxlQnV0dG9uQ2xpY2sgPSB1c2VDYWxsYmFjayhkaXJlY3Rpb24gPT4gewogICAgaWYgKGRpcmVjdGlvbiA9PT0gRElSRUNUSU9OLkRPV04pIHsKICAgICAgY29uc3QgeSA9IGhlaWdodCAtIENPTU1BTkRCQVJfSEVJR0hUOwogICAgICBzZXRQb3NpdGlvbihPYmplY3QuYXNzaWduKHt9LCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHBvc2l0aW9uKSwge30sIHsKICAgICAgICB5LAogICAgICAgIGhlaWdodDogQ09NTUFOREJBUl9IRUlHSFQKICAgICAgfSkpKTsKICAgIH0KCiAgICBpZiAoZGlyZWN0aW9uID09PSBESVJFQ1RJT04uVVApIHsKICAgICAgY29uc3QgbWF4SGVpZ2h0ID0gaGVpZ2h0ICogMC41OyAvLyBkZWZhdWx0IHRvIDUwJSBvZiBzY3JlZW4KCiAgICAgIGNvbnN0IHkgPSBoZWlnaHQgLSBtYXhIZWlnaHQ7CiAgICAgIHNldFBvc2l0aW9uKE9iamVjdC5hc3NpZ24oe30sIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcG9zaXRpb24pLCB7fSwgewogICAgICAgIHksCiAgICAgICAgaGVpZ2h0OiBtYXhIZWlnaHQKICAgICAgfSkpKTsKICAgIH0KICB9LCBbcG9zaXRpb24sIGhlaWdodCwgc2V0UG9zaXRpb25dKTsKICBjb25zdCBoYW5kbGVSZXNpemVTdG9wID0gdXNlQ2FsbGJhY2soKGUsIGRpcmVjdGlvbiwgcmVmLCBkZWx0YSwgcG9zKSA9PiB7CiAgICBpZiAoZGlyZWN0aW9uID09PSAndG9wJykgewogICAgICBsZXQgeSA9IHBvc2l0aW9uLnkgLSBkZWx0YS5oZWlnaHQ7CiAgICAgIGNvbnN0IG5ld0hlaWdodCA9IHBvc2l0aW9uLmhlaWdodCArIGRlbHRhLmhlaWdodDsKICAgICAgbGV0IGggPSBuZXdIZWlnaHQ7CiAgICAgIGNvbnN0IG1heEhlaWdodCA9IGhlaWdodCAqIDAuNzU7IC8vIG1pbiBoZWlnaHQgPSBDT01NQU5EQkFSX0hFSUdIVAoKICAgICAgaWYgKG5ld0hlaWdodCA8IENPTU1BTkRCQVJfSEVJR0hUKSB7CiAgICAgICAgaCA9IENPTU1BTkRCQVJfSEVJR0hUOwogICAgICAgIHkgPSBoZWlnaHQgLSBDT01NQU5EQkFSX0hFSUdIVDsKICAgICAgfQoKICAgICAgaWYgKG5ld0hlaWdodCA+IG1heEhlaWdodCkgewogICAgICAgIGggPSBtYXhIZWlnaHQ7CiAgICAgICAgeSA9IGhlaWdodCAtIG1heEhlaWdodDsKICAgICAgfQoKICAgICAgc2V0UG9zaXRpb24oewogICAgICAgIHg6IDAsCiAgICAgICAgeSwKICAgICAgICBoZWlnaHQ6IGgKICAgICAgfSk7CiAgICB9CgogICAgc2V0R3JhcGhGaWx0ZXIoQ1NTRmlsdGVyLk5PTkUpOwogIH0sIFtwb3NpdGlvbiwgaGVpZ2h0LCBzZXRQb3NpdGlvbiwgc2V0R3JhcGhGaWx0ZXJdKTsKICByZXR1cm4gewogICAgaGFuZGxlUmVzaXplU3RvcCwKICAgIGhhbmRsZUJ1dHRvbkNsaWNrLAogICAgaGFuZGxlUmVzaXplU3RhcnQKICB9Owp9"},{"version":3,"sources":["C:/ws/graph-drill/src/components/App/pages/GraphViewerPage/hooks/useResizeHandlers.ts"],"names":["useCallback","COMMANDBAR_HEIGHT","CSSFilter","DIRECTION","useResizeHandlers","height","position","setPosition","setGraphFilter","handleResizeStart","e","direction","ref","delta","pos","GRAYSCALE","handleButtonClick","DOWN","y","Object","assign","UP","maxHeight","handleResizeStop","newHeight","h","x","NONE"],"mappings":";;;;;;AAAA,SAASA,WAAT,QAA4B,OAA5B;AACA,SAASC,iBAAT,QAAkC,UAAlC;AACA,OAAO,IAAIC,SAAJ;;AACP,CAAC,UAAUA,SAAV,EAAqB;AAClBA,EAAAA,SAAS,CAAC,MAAD,CAAT,GAAoB,MAApB;AACAA,EAAAA,SAAS,CAAC,WAAD,CAAT,GAAyB,gBAAzB;AACH,CAHD,EAGGA,SAAS,KAAKA,SAAS,GAAG,EAAjB,CAHZ;;AAIA,OAAO,IAAIC,SAAJ;;AACP,CAAC,UAAUA,SAAV,EAAqB;AAClBA,EAAAA,SAAS,CAAC,IAAD,CAAT,GAAkB,IAAlB;AACAA,EAAAA,SAAS,CAAC,MAAD,CAAT,GAAoB,MAApB;AACH,CAHD,EAGGA,SAAS,KAAKA,SAAS,GAAG,EAAjB,CAHZ;;AAIA,OAAO,SAASC,iBAAT,CAA2B;AAAEC,EAAAA,MAAF;AAAUC,EAAAA,QAAV;AAAoBC,EAAAA,WAApB;AAAiCC,EAAAA;AAAjC,CAA3B,EAA+E;AAClF,QAAMC,iBAAiB,GAAGT,WAAW,CAAC,CAACU,CAAD,EAAIC,SAAJ,EAAeC,GAAf,EAAoBC,KAApB,EAA2BC,GAA3B,KAAmC;AACrEN,IAAAA,cAAc,CAACN,SAAS,CAACa,SAAX,CAAd;AACH,GAFoC,EAElC,CAACP,cAAD,CAFkC,CAArC;AAGA,QAAMQ,iBAAiB,GAAGhB,WAAW,CAAEW,SAAD,IAAe;AACjD,QAAIA,SAAS,KAAKR,SAAS,CAACc,IAA5B,EAAkC;AAC9B,YAAMC,CAAC,GAAGb,MAAM,GAAGJ,iBAAnB;AACAM,MAAAA,WAAW,CAACY,MAAM,CAACC,MAAP,CAAc,EAAd,kCAAuBd,QAAvB;AAAiCY,QAAAA,CAAjC;AAAoCb,QAAAA,MAAM,EAAEJ;AAA5C,SAAD,CAAX;AACH;;AACD,QAAIU,SAAS,KAAKR,SAAS,CAACkB,EAA5B,EAAgC;AAC5B,YAAMC,SAAS,GAAGjB,MAAM,GAAG,GAA3B,CAD4B,CACI;;AAChC,YAAMa,CAAC,GAAGb,MAAM,GAAGiB,SAAnB;AACAf,MAAAA,WAAW,CAACY,MAAM,CAACC,MAAP,CAAc,EAAd,kCAAuBd,QAAvB;AAAiCY,QAAAA,CAAjC;AAAoCb,QAAAA,MAAM,EAAEiB;AAA5C,SAAD,CAAX;AACH;AACJ,GAVoC,EAUlC,CAAChB,QAAD,EAAWD,MAAX,EAAmBE,WAAnB,CAVkC,CAArC;AAWA,QAAMgB,gBAAgB,GAAGvB,WAAW,CAAC,CAACU,CAAD,EAAIC,SAAJ,EAAeC,GAAf,EAAoBC,KAApB,EAA2BC,GAA3B,KAAmC;AACpE,QAAIH,SAAS,KAAK,KAAlB,EAAyB;AACrB,UAAIO,CAAC,GAAGZ,QAAQ,CAACY,CAAT,GAAaL,KAAK,CAACR,MAA3B;AACA,YAAMmB,SAAS,GAAGlB,QAAQ,CAACD,MAAT,GAAkBQ,KAAK,CAACR,MAA1C;AACA,UAAIoB,CAAC,GAAGD,SAAR;AACA,YAAMF,SAAS,GAAGjB,MAAM,GAAG,IAA3B,CAJqB,CAKrB;;AACA,UAAImB,SAAS,GAAGvB,iBAAhB,EAAmC;AAC/BwB,QAAAA,CAAC,GAAGxB,iBAAJ;AACAiB,QAAAA,CAAC,GAAGb,MAAM,GAAGJ,iBAAb;AACH;;AACD,UAAIuB,SAAS,GAAGF,SAAhB,EAA2B;AACvBG,QAAAA,CAAC,GAAGH,SAAJ;AACAJ,QAAAA,CAAC,GAAGb,MAAM,GAAGiB,SAAb;AACH;;AACDf,MAAAA,WAAW,CAAC;AAAEmB,QAAAA,CAAC,EAAE,CAAL;AAAQR,QAAAA,CAAR;AAAWb,QAAAA,MAAM,EAAEoB;AAAnB,OAAD,CAAX;AACH;;AACDjB,IAAAA,cAAc,CAACN,SAAS,CAACyB,IAAX,CAAd;AACH,GAlBmC,EAkBjC,CAACrB,QAAD,EAAWD,MAAX,EAAmBE,WAAnB,EAAgCC,cAAhC,CAlBiC,CAApC;AAmBA,SAAO;AAAEe,IAAAA,gBAAF;AAAoBP,IAAAA,iBAApB;AAAuCP,IAAAA;AAAvC,GAAP;AACH","sourcesContent":["import { useCallback } from 'react';\r\nimport { COMMANDBAR_HEIGHT } from '~/styles';\r\nexport var CSSFilter;\r\n(function (CSSFilter) {\r\n    CSSFilter[\"NONE\"] = \"none\";\r\n    CSSFilter[\"GRAYSCALE\"] = \"grayscale(75%)\";\r\n})(CSSFilter || (CSSFilter = {}));\r\nexport var DIRECTION;\r\n(function (DIRECTION) {\r\n    DIRECTION[\"UP\"] = \"up\";\r\n    DIRECTION[\"DOWN\"] = \"down\";\r\n})(DIRECTION || (DIRECTION = {}));\r\nexport function useResizeHandlers({ height, position, setPosition, setGraphFilter, }) {\r\n    const handleResizeStart = useCallback((e, direction, ref, delta, pos) => {\r\n        setGraphFilter(CSSFilter.GRAYSCALE);\r\n    }, [setGraphFilter]);\r\n    const handleButtonClick = useCallback((direction) => {\r\n        if (direction === DIRECTION.DOWN) {\r\n            const y = height - COMMANDBAR_HEIGHT;\r\n            setPosition(Object.assign({}, { ...position, y, height: COMMANDBAR_HEIGHT }));\r\n        }\r\n        if (direction === DIRECTION.UP) {\r\n            const maxHeight = height * 0.5; // default to 50% of screen\r\n            const y = height - maxHeight;\r\n            setPosition(Object.assign({}, { ...position, y, height: maxHeight }));\r\n        }\r\n    }, [position, height, setPosition]);\r\n    const handleResizeStop = useCallback((e, direction, ref, delta, pos) => {\r\n        if (direction === 'top') {\r\n            let y = position.y - delta.height;\r\n            const newHeight = position.height + delta.height;\r\n            let h = newHeight;\r\n            const maxHeight = height * 0.75;\r\n            // min height = COMMANDBAR_HEIGHT\r\n            if (newHeight < COMMANDBAR_HEIGHT) {\r\n                h = COMMANDBAR_HEIGHT;\r\n                y = height - COMMANDBAR_HEIGHT;\r\n            }\r\n            if (newHeight > maxHeight) {\r\n                h = maxHeight;\r\n                y = height - maxHeight;\r\n            }\r\n            setPosition({ x: 0, y, height: h });\r\n        }\r\n        setGraphFilter(CSSFilter.NONE);\r\n    }, [position, height, setPosition, setGraphFilter]);\r\n    return { handleResizeStop, handleButtonClick, handleResizeStart };\r\n}\r\n"]}]}