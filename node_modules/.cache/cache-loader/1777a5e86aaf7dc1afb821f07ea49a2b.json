{"remainingRequest":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\babel-loader-virtual-fd8dd261de\\0\\cache\\babel-loader-npm-8.2.2-b4e600c2c5-df5092ef98.zip\\node_modules\\babel-loader\\lib\\index.js??ruleSet[1].rules[0].use[1]!C:\\ws\\graph-drill\\.yarn\\__virtual__\\ts-loader-virtual-aa0d54d245\\0\\cache\\ts-loader-npm-9.2.1-40e1a5908e-1f2e61905d.zip\\node_modules\\ts-loader\\index.js??ruleSet[1].rules[0].use[2]!C:\\ws\\graph-drill\\src\\components\\FileList\\FileList.tsx","dependencies":[{"path":"C:\\ws\\graph-drill\\src\\components\\FileList\\FileList.tsx","mtime":1631029334784},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\cache-loader-virtual-2fd14a2267\\0\\cache\\cache-loader-npm-4.1.0-82c3da90d8-0339778bdd.zip\\node_modules\\cache-loader\\dist\\cjs.js","mtime":456789000000},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\babel-loader-virtual-fd8dd261de\\0\\cache\\babel-loader-npm-8.2.2-b4e600c2c5-df5092ef98.zip\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\ts-loader-virtual-aa0d54d245\\0\\cache\\ts-loader-npm-9.2.1-40e1a5908e-1f2e61905d.zip\\node_modules\\ts-loader\\index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgRmlsZVVwbG9hZE1lc3NhZ2UgfSBmcm9tICcuLi9BcHAvY29tbWFuZHMvbW9kYWxzL3BhbmVscy9GaWxlVXBsb2FkTWVzc2FnZSc7CmltcG9ydCB7IERlZmF1bHRCdXR0b24gfSBmcm9tICdAZmx1ZW50dWkvcmVhY3QnOwppbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJzsKaW1wb3J0IHsgdXNlQXJxdWVyb0JpZ1RhYmxlLCB1c2VBcnF1ZXJvRWRnZVRhYmxlLCB1c2VDbGVhckFsbERhdGEgfSBmcm9tICd+L2FycXVlcm8nOwppbXBvcnQgeyBBcnF1ZXJvVGFibGUgfSBmcm9tICd+L2FycXVlcm8vQXJxdWVyb1RhYmxlJzsKaW1wb3J0IHsgdXNlQ2xlYXJGaWxlcywgdXNlRmlsZXNMaXN0IH0gZnJvbSAnfi9zdGF0ZSc7IC8vIFRPRE86IHRoaXMgaXMgZXhwZWN0ZWQgdG8gYmUgYSByb2J1c3QgZmlsZSBsaXN0IHdpdGggc2VsZWN0aW9ucywgZXRjLgovLyBhdCB0aGUgbW9tZW50IGl0IGlzIGEgY29weSBvZiB0aGUgZmlsZSBkcm9wIHBhbmVsIHVzZWQgaW4gbW9kYWxzCgpleHBvcnQgY29uc3QgRmlsZUxpc3QgPSAoKSA9PiB7CiAgY29uc3QgYmlnVGFibGUgPSB1c2VBcnF1ZXJvQmlnVGFibGUoKTsKICBjb25zdCBlZGdlVGFibGUgPSB1c2VBcnF1ZXJvRWRnZVRhYmxlKCk7CiAgY29uc3QgcmVzZXRUYWJsZXMgPSB1c2VDbGVhckFsbERhdGEoKTsKICBjb25zdCBmaWxlcyA9IHVzZUZpbGVzTGlzdCgpOwogIGNvbnN0IHJlc2V0RmlsZXMgPSB1c2VDbGVhckZpbGVzKCk7CiAgY29uc3QgW3NlbGVjdGVkRmlsZSwgc2V0U2VsZWN0ZWRGaWxlXSA9IHVzZVN0YXRlKCk7CiAgY29uc3QgaGFuZGxlRmlsZUNsaWNrID0gdXNlQ2FsbGJhY2soZmlsZSA9PiBzZXRTZWxlY3RlZEZpbGUoZmlsZSksIFtdKTsKICBjb25zdCBoYW5kbGVSZXNldENsaWNrID0gdXNlQ2FsbGJhY2soKCkgPT4gewogICAgcmVzZXRUYWJsZXMoKTsKICAgIHJlc2V0RmlsZXMoKTsKICB9LCBbcmVzZXRUYWJsZXMsIHJlc2V0RmlsZXNdKTsKICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDb250YWluZXIsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRmlsZXMsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRmlsZVVwbG9hZE1lc3NhZ2UsIHsKICAgIGZpbGVzOiBmaWxlcywKICAgIG9uQ2xpY2s6IGhhbmRsZUZpbGVDbGljawogIH0pKSwgUmVhY3QuY3JlYXRlRWxlbWVudChSZXNldCwgbnVsbCwgZmlsZXMubGVuZ3RoID4gMCB8fCBiaWdUYWJsZS5udW1Sb3dzKCkgPiAwIHx8IGVkZ2VUYWJsZS5udW1Sb3dzKCkgPiAwID8gUmVhY3QuY3JlYXRlRWxlbWVudChEZWZhdWx0QnV0dG9uLCB7CiAgICB0ZXh0OiAiQ2xlYXIgYWxsIiwKICAgIG9uQ2xpY2s6IGhhbmRsZVJlc2V0Q2xpY2sKICB9KSA6IG51bGwpLCBzZWxlY3RlZEZpbGUgPyBSZWFjdC5jcmVhdGVFbGVtZW50KFZpZXdlciwgbnVsbCwgUmVhY3QuY3JlYXRlRWxlbWVudCgiaDMiLCBudWxsLCBzZWxlY3RlZEZpbGUudXJsKSwgUmVhY3QuY3JlYXRlRWxlbWVudChBcnF1ZXJvVGFibGUsIHsKICAgIHRhYmxlOiBzZWxlY3RlZEZpbGUgPT09IG51bGwgfHwgc2VsZWN0ZWRGaWxlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZWxlY3RlZEZpbGUudGFibGUsCiAgICBvcHRpb25zOiB7CiAgICAgIGxpbWl0OiAxMAogICAgfQogIH0pKSA6IG51bGwpOwp9Owpjb25zdCBDb250YWluZXIgPSBzdHlsZWQuZGl2YGA7CmNvbnN0IEZpbGVzID0gc3R5bGVkLmRpdmBgOwpjb25zdCBWaWV3ZXIgPSBzdHlsZWQuZGl2YAoJbWFyZ2luOiAyMHB4OwpgOwpjb25zdCBSZXNldCA9IHN0eWxlZC5kaXZgCgl3aWR0aDogMTAwJTsKCWRpc3BsYXk6IGZsZXg7CglqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOwoJbWFyZ2luOiAyMHB4OwpgOw=="},{"version":3,"sources":["C:/ws/graph-drill/src/components/FileList/FileList.tsx"],"names":["FileUploadMessage","DefaultButton","React","useCallback","useState","styled","useArqueroBigTable","useArqueroEdgeTable","useClearAllData","ArqueroTable","useClearFiles","useFilesList","FileList","bigTable","edgeTable","resetTables","files","resetFiles","selectedFile","setSelectedFile","handleFileClick","file","handleResetClick","createElement","Container","Files","onClick","Reset","length","numRows","text","Viewer","url","table","options","limit","div"],"mappings":"AAAA,SAASA,iBAAT,QAAkC,iDAAlC;AACA,SAASC,aAAT,QAA8B,iBAA9B;AACA,OAAOC,KAAP,IAAgBC,WAAhB,EAA6BC,QAA7B,QAA6C,OAA7C;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,kBAAT,EAA6BC,mBAA7B,EAAkDC,eAAlD,QAA0E,WAA1E;AACA,SAASC,YAAT,QAA6B,wBAA7B;AACA,SAASC,aAAT,EAAwBC,YAAxB,QAA4C,SAA5C,C,CACA;AACA;;AACA,OAAO,MAAMC,QAAQ,GAAG,MAAM;AAC1B,QAAMC,QAAQ,GAAGP,kBAAkB,EAAnC;AACA,QAAMQ,SAAS,GAAGP,mBAAmB,EAArC;AACA,QAAMQ,WAAW,GAAGP,eAAe,EAAnC;AACA,QAAMQ,KAAK,GAAGL,YAAY,EAA1B;AACA,QAAMM,UAAU,GAAGP,aAAa,EAAhC;AACA,QAAM,CAACQ,YAAD,EAAeC,eAAf,IAAkCf,QAAQ,EAAhD;AACA,QAAMgB,eAAe,GAAGjB,WAAW,CAACkB,IAAI,IAAIF,eAAe,CAACE,IAAD,CAAxB,EAAgC,EAAhC,CAAnC;AACA,QAAMC,gBAAgB,GAAGnB,WAAW,CAAC,MAAM;AACvCY,IAAAA,WAAW;AACXE,IAAAA,UAAU;AACb,GAHmC,EAGjC,CAACF,WAAD,EAAcE,UAAd,CAHiC,CAApC;AAIA,SAAQf,KAAK,CAACqB,aAAN,CAAoBC,SAApB,EAA+B,IAA/B,EACJtB,KAAK,CAACqB,aAAN,CAAoBE,KAApB,EAA2B,IAA3B,EACIvB,KAAK,CAACqB,aAAN,CAAoBvB,iBAApB,EAAuC;AAAEgB,IAAAA,KAAK,EAAEA,KAAT;AAAgBU,IAAAA,OAAO,EAAEN;AAAzB,GAAvC,CADJ,CADI,EAGJlB,KAAK,CAACqB,aAAN,CAAoBI,KAApB,EAA2B,IAA3B,EAAiCX,KAAK,CAACY,MAAN,GAAe,CAAf,IAC7Bf,QAAQ,CAACgB,OAAT,KAAqB,CADQ,IAE7Bf,SAAS,CAACe,OAAV,KAAsB,CAFO,GAEF3B,KAAK,CAACqB,aAAN,CAAoBtB,aAApB,EAAmC;AAAE6B,IAAAA,IAAI,EAAE,WAAR;AAAqBJ,IAAAA,OAAO,EAAEJ;AAA9B,GAAnC,CAFE,GAEsF,IAFvH,CAHI,EAMJJ,YAAY,GAAIhB,KAAK,CAACqB,aAAN,CAAoBQ,MAApB,EAA4B,IAA5B,EACZ7B,KAAK,CAACqB,aAAN,CAAoB,IAApB,EAA0B,IAA1B,EAAgCL,YAAY,CAACc,GAA7C,CADY,EAEZ9B,KAAK,CAACqB,aAAN,CAAoBd,YAApB,EAAkC;AAAEwB,IAAAA,KAAK,EAAEf,YAAF,aAAEA,YAAF,uBAAEA,YAAY,CAAEe,KAAvB;AAA8BC,IAAAA,OAAO,EAAE;AAAEC,MAAAA,KAAK,EAAE;AAAT;AAAvC,GAAlC,CAFY,CAAJ,GAEsF,IAR9F,CAAR;AASH,CArBM;AAsBP,MAAMX,SAAS,GAAGnB,MAAM,CAAC+B,GAAK,EAA9B;AACA,MAAMX,KAAK,GAAGpB,MAAM,CAAC+B,GAAK,EAA1B;AACA,MAAML,MAAM,GAAG1B,MAAM,CAAC+B,GAAK;AAC3B;AACA,CAFA;AAGA,MAAMT,KAAK,GAAGtB,MAAM,CAAC+B,GAAK;AAC1B;AACA;AACA;AACA;AACA,CALA","sourcesContent":["import { FileUploadMessage } from '../App/commands/modals/panels/FileUploadMessage';\r\nimport { DefaultButton } from '@fluentui/react';\r\nimport React, { useCallback, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { useArqueroBigTable, useArqueroEdgeTable, useClearAllData, } from '~/arquero';\r\nimport { ArqueroTable } from '~/arquero/ArqueroTable';\r\nimport { useClearFiles, useFilesList } from '~/state';\r\n// TODO: this is expected to be a robust file list with selections, etc.\r\n// at the moment it is a copy of the file drop panel used in modals\r\nexport const FileList = () => {\r\n    const bigTable = useArqueroBigTable();\r\n    const edgeTable = useArqueroEdgeTable();\r\n    const resetTables = useClearAllData();\r\n    const files = useFilesList();\r\n    const resetFiles = useClearFiles();\r\n    const [selectedFile, setSelectedFile] = useState();\r\n    const handleFileClick = useCallback(file => setSelectedFile(file), []);\r\n    const handleResetClick = useCallback(() => {\r\n        resetTables();\r\n        resetFiles();\r\n    }, [resetTables, resetFiles]);\r\n    return (React.createElement(Container, null,\r\n        React.createElement(Files, null,\r\n            React.createElement(FileUploadMessage, { files: files, onClick: handleFileClick })),\r\n        React.createElement(Reset, null, files.length > 0 ||\r\n            bigTable.numRows() > 0 ||\r\n            edgeTable.numRows() > 0 ? (React.createElement(DefaultButton, { text: \"Clear all\", onClick: handleResetClick })) : null),\r\n        selectedFile ? (React.createElement(Viewer, null,\r\n            React.createElement(\"h3\", null, selectedFile.url),\r\n            React.createElement(ArqueroTable, { table: selectedFile?.table, options: { limit: 10 } }))) : null));\r\n};\r\nconst Container = styled.div ``;\r\nconst Files = styled.div ``;\r\nconst Viewer = styled.div `\r\n\tmargin: 20px;\r\n`;\r\nconst Reset = styled.div `\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tjustify-content: flex-end;\r\n\tmargin: 20px;\r\n`;\r\n"]}]}