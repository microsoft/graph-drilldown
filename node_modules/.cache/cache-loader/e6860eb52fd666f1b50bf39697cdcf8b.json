{"remainingRequest":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\babel-loader-virtual-fd8dd261de\\0\\cache\\babel-loader-npm-8.2.2-b4e600c2c5-df5092ef98.zip\\node_modules\\babel-loader\\lib\\index.js??ruleSet[1].rules[0].use[1]!C:\\ws\\graph-drill\\.yarn\\__virtual__\\ts-loader-virtual-aa0d54d245\\0\\cache\\ts-loader-npm-9.2.1-40e1a5908e-1f2e61905d.zip\\node_modules\\ts-loader\\index.js??ruleSet[1].rules[0].use[2]!C:\\ws\\graph-drill\\src\\controls\\NumericDomainEditor\\index.tsx","dependencies":[{"path":"C:\\ws\\graph-drill\\src\\controls\\NumericDomainEditor\\index.tsx","mtime":1631029334842},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\cache-loader-virtual-2fd14a2267\\0\\cache\\cache-loader-npm-4.1.0-82c3da90d8-0339778bdd.zip\\node_modules\\cache-loader\\dist\\cjs.js","mtime":456789000000},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\babel-loader-virtual-fd8dd261de\\0\\cache\\babel-loader-npm-8.2.2-b4e600c2c5-df5092ef98.zip\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\ts-loader-virtual-aa0d54d245\\0\\cache\\ts-loader-npm-9.2.1-40e1a5908e-1f2e61905d.zip\\node_modules\\ts-loader\\index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgRG9tYWluQnJ1c2ggfSBmcm9tICcuLi9Eb21haW5CcnVzaCc7CmltcG9ydCB7IExhYmVsIH0gZnJvbSAnQGZsdWVudHVpL3JlYWN0JzsKaW1wb3J0IHsgU2NhbGVUeXBlIH0gZnJvbSAnQHRoZW1hdGljL2NvcmUnOwppbXBvcnQgeyBTY2FsZVR5cGVDaG9pY2VHcm91cCB9IGZyb20gJ0B0aGVtYXRpYy9mbHVlbnQnOwppbXBvcnQgeyBmb3JtYXQgfSBmcm9tICdkMy1mb3JtYXQnOwppbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7CmltcG9ydCBzdHlsZWQgZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnOwppbXBvcnQgeyB1c2VDb2x1bW5IaXN0b2dyYW0sIHVzZUNvbHVtblN0YXRzIH0gZnJvbSAnfi9hcnF1ZXJvJzsKZXhwb3J0IGNvbnN0IE51bWVyaWNEb21haW5FZGl0b3IgPSAoewogIHRhYmxlLAogIGVuY29kaW5nLAogIG9uQ2hhbmdlCn0pID0+IHsKICBjb25zdCBwYXJhbWV0ZXJzID0gdXNlQ29sdW1uU3RhdHModGFibGUsIGVuY29kaW5nLmZpZWxkKTsKICBjb25zdCBkb21haW4gPSAocGFyYW1ldGVycyA9PT0gbnVsbCB8fCBwYXJhbWV0ZXJzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbWV0ZXJzLmRvbWFpbikgfHwgWzAsIDFdOwogIGNvbnN0IHByZWNpc2lvbiA9IChwYXJhbWV0ZXJzID09PSBudWxsIHx8IHBhcmFtZXRlcnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtZXRlcnMucHJlY2lzaW9uKSB8fCAwOwogIGNvbnN0IGZtdCA9IHVzZU1lbW8oKCkgPT4gZm9ybWF0KGAuJHtwcmVjaXNpb259ZmApLCBbcHJlY2lzaW9uXSk7CiAgY29uc3QgaGFuZGxlVHlwZUNoYW5nZSA9IHVzZUNhbGxiYWNrKHNjYWxlVHlwZSA9PiBvbkNoYW5nZSAmJiBvbkNoYW5nZSh7CiAgICBzY2FsZVR5cGUKICB9KSwgW29uQ2hhbmdlXSk7CiAgY29uc3QgaGFuZGxlRG9tYWluQ2hhbmdlID0gdXNlQ2FsbGJhY2soZG9tYWluID0+IG9uQ2hhbmdlICYmIG9uQ2hhbmdlKHsKICAgIGRvbWFpbgogIH0pLCBbb25DaGFuZ2VdKTsKICBjb25zdCBoaXN0b2dyYW0gPSB1c2VDb2x1bW5IaXN0b2dyYW0odGFibGUsIGVuY29kaW5nLmZpZWxkKTsKICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDb250YWluZXIsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGFiZWwsIG51bGwsIGBJbnB1dCBkb21haW4gKGRhdGEgZXh0ZW50OiAke2ZtdChkb21haW5bMF0pfSAtICR7Zm10KGRvbWFpblsxXSl9KWApLCBSZWFjdC5jcmVhdGVFbGVtZW50KERvbWFpbkJydXNoLCB7CiAgICBoaXN0b2dyYW06IGhpc3RvZ3JhbSwKICAgIG1pbjogZG9tYWluWzBdLAogICAgbWF4OiBkb21haW5bMV0sCiAgICBwcmVjaXNpb246IHByZWNpc2lvbiwKICAgIGN1cnJlbnREb21haW46IGVuY29kaW5nLmRvbWFpbiwKICAgIG9uQ2hhbmdlOiBoYW5kbGVEb21haW5DaGFuZ2UsCiAgICBzaG93VGV4dElucHV0czogdHJ1ZQogIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KFNjYWxlVHlwZUNob2ljZUdyb3VwLCB7CiAgICBzZWxlY3RlZFR5cGU6IGVuY29kaW5nLnNjYWxlVHlwZSB8fCBTY2FsZVR5cGUuTGluZWFyLAogICAgb25DaGFuZ2U6IGhhbmRsZVR5cGVDaGFuZ2UsCiAgICBzdXBwcmVzc1F1YW50aWxlOiB0cnVlCiAgfSkpOwp9Owpjb25zdCBDb250YWluZXIgPSBzdHlsZWQuZGl2YGA7"},{"version":3,"sources":["C:/ws/graph-drill/src/controls/NumericDomainEditor/index.tsx"],"names":["DomainBrush","Label","ScaleType","ScaleTypeChoiceGroup","format","React","useCallback","useMemo","styled","useColumnHistogram","useColumnStats","NumericDomainEditor","table","encoding","onChange","parameters","field","domain","precision","fmt","handleTypeChange","scaleType","handleDomainChange","histogram","createElement","Container","min","max","currentDomain","showTextInputs","selectedType","Linear","suppressQuantile","div"],"mappings":"AAAA,SAASA,WAAT,QAA4B,gBAA5B;AACA,SAASC,KAAT,QAAsB,iBAAtB;AACA,SAASC,SAAT,QAA0B,gBAA1B;AACA,SAASC,oBAAT,QAAqC,kBAArC;AACA,SAASC,MAAT,QAAuB,WAAvB;AACA,OAAOC,KAAP,IAAgBC,WAAhB,EAA6BC,OAA7B,QAA4C,OAA5C;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,kBAAT,EAA6BC,cAA7B,QAAmD,WAAnD;AACA,OAAO,MAAMC,mBAAmB,GAAG,CAAC;AAAEC,EAAAA,KAAF;AAASC,EAAAA,QAAT;AAAmBC,EAAAA;AAAnB,CAAD,KAAoC;AACnE,QAAMC,UAAU,GAAGL,cAAc,CAACE,KAAD,EAAQC,QAAQ,CAACG,KAAjB,CAAjC;AACA,QAAMC,MAAM,GAAG,CAAAF,UAAU,SAAV,IAAAA,UAAU,WAAV,YAAAA,UAAU,CAAEE,MAAZ,KAAsB,CAAC,CAAD,EAAI,CAAJ,CAArC;AACA,QAAMC,SAAS,GAAG,CAAAH,UAAU,SAAV,IAAAA,UAAU,WAAV,YAAAA,UAAU,CAAEG,SAAZ,KAAyB,CAA3C;AACA,QAAMC,GAAG,GAAGZ,OAAO,CAAC,MAAMH,MAAM,CAAE,IAAGc,SAAU,GAAf,CAAb,EAAiC,CAACA,SAAD,CAAjC,CAAnB;AACA,QAAME,gBAAgB,GAAGd,WAAW,CAACe,SAAS,IAAIP,QAAQ,IACtDA,QAAQ,CAAC;AACLO,IAAAA;AADK,GAAD,CADwB,EAG5B,CAACP,QAAD,CAH4B,CAApC;AAIA,QAAMQ,kBAAkB,GAAGhB,WAAW,CAACW,MAAM,IAAIH,QAAQ,IACrDA,QAAQ,CAAC;AACLG,IAAAA;AADK,GAAD,CAD0B,EAG9B,CAACH,QAAD,CAH8B,CAAtC;AAIA,QAAMS,SAAS,GAAGd,kBAAkB,CAACG,KAAD,EAAQC,QAAQ,CAACG,KAAjB,CAApC;AACA,SAAQX,KAAK,CAACmB,aAAN,CAAoBC,SAApB,EAA+B,IAA/B,EACJpB,KAAK,CAACmB,aAAN,CAAoBvB,KAApB,EAA2B,IAA3B,EAAkC,8BAA6BkB,GAAG,CAACF,MAAM,CAAC,CAAD,CAAP,CAAY,MAAKE,GAAG,CAACF,MAAM,CAAC,CAAD,CAAP,CAAY,GAAlG,CADI,EAEJZ,KAAK,CAACmB,aAAN,CAAoBxB,WAApB,EAAiC;AAAEuB,IAAAA,SAAS,EAAEA,SAAb;AAAwBG,IAAAA,GAAG,EAAET,MAAM,CAAC,CAAD,CAAnC;AAAwCU,IAAAA,GAAG,EAAEV,MAAM,CAAC,CAAD,CAAnD;AAAwDC,IAAAA,SAAS,EAAEA,SAAnE;AAA8EU,IAAAA,aAAa,EAAEf,QAAQ,CAACI,MAAtG;AAA8GH,IAAAA,QAAQ,EAAEQ,kBAAxH;AAA4IO,IAAAA,cAAc,EAAE;AAA5J,GAAjC,CAFI,EAGJxB,KAAK,CAACmB,aAAN,CAAoBrB,oBAApB,EAA0C;AAAE2B,IAAAA,YAAY,EAAEjB,QAAQ,CAACQ,SAAT,IAAsBnB,SAAS,CAAC6B,MAAhD;AAAwDjB,IAAAA,QAAQ,EAAEM,gBAAlE;AAAoFY,IAAAA,gBAAgB,EAAE;AAAtG,GAA1C,CAHI,CAAR;AAIH,CAlBM;AAmBP,MAAMP,SAAS,GAAGjB,MAAM,CAACyB,GAAK,EAA9B","sourcesContent":["import { DomainBrush } from '../DomainBrush';\r\nimport { Label } from '@fluentui/react';\r\nimport { ScaleType } from '@thematic/core';\r\nimport { ScaleTypeChoiceGroup } from '@thematic/fluent';\r\nimport { format } from 'd3-format';\r\nimport React, { useCallback, useMemo } from 'react';\r\nimport styled from 'styled-components';\r\nimport { useColumnHistogram, useColumnStats } from '~/arquero';\r\nexport const NumericDomainEditor = ({ table, encoding, onChange, }) => {\r\n    const parameters = useColumnStats(table, encoding.field);\r\n    const domain = parameters?.domain || [0, 1];\r\n    const precision = parameters?.precision || 0;\r\n    const fmt = useMemo(() => format(`.${precision}f`), [precision]);\r\n    const handleTypeChange = useCallback(scaleType => onChange &&\r\n        onChange({\r\n            scaleType,\r\n        }), [onChange]);\r\n    const handleDomainChange = useCallback(domain => onChange &&\r\n        onChange({\r\n            domain,\r\n        }), [onChange]);\r\n    const histogram = useColumnHistogram(table, encoding.field);\r\n    return (React.createElement(Container, null,\r\n        React.createElement(Label, null, `Input domain (data extent: ${fmt(domain[0])} - ${fmt(domain[1])})`),\r\n        React.createElement(DomainBrush, { histogram: histogram, min: domain[0], max: domain[1], precision: precision, currentDomain: encoding.domain, onChange: handleDomainChange, showTextInputs: true }),\r\n        React.createElement(ScaleTypeChoiceGroup, { selectedType: encoding.scaleType || ScaleType.Linear, onChange: handleTypeChange, suppressQuantile: true })));\r\n};\r\nconst Container = styled.div ``;\r\n"]}]}