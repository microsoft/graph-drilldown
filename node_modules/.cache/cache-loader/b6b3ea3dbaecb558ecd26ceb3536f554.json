{"remainingRequest":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\babel-loader-virtual-fd8dd261de\\0\\cache\\babel-loader-npm-8.2.2-b4e600c2c5-df5092ef98.zip\\node_modules\\babel-loader\\lib\\index.js??ruleSet[1].rules[0].use[1]!C:\\ws\\graph-drill\\.yarn\\__virtual__\\ts-loader-virtual-aa0d54d245\\0\\cache\\ts-loader-npm-9.2.1-40e1a5908e-1f2e61905d.zip\\node_modules\\ts-loader\\index.js??ruleSet[1].rules[0].use[2]!C:\\ws\\graph-drill\\src\\controls\\FileDrop\\hooks\\useDrop.ts","dependencies":[{"path":"C:\\ws\\graph-drill\\src\\controls\\FileDrop\\hooks\\useDrop.ts","mtime":1624559748353},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\cache-loader-virtual-2fd14a2267\\0\\cache\\cache-loader-npm-4.1.0-82c3da90d8-0339778bdd.zip\\node_modules\\cache-loader\\dist\\cjs.js","mtime":456789000000},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\babel-loader-virtual-fd8dd261de\\0\\cache\\babel-loader-npm-8.2.2-b4e600c2c5-df5092ef98.zip\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\ts-loader-virtual-aa0d54d245\\0\\cache\\ts-loader-npm-9.2.1-40e1a5908e-1f2e61905d.zip\\node_modules\\ts-loader\\index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyohDQogKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdC4gQWxsIHJpZ2h0cyByZXNlcnZlZC4NCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS4gU2VlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcHJvamVjdC4NCiAqLwppbXBvcnQgeyB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JzsKZXhwb3J0IGZ1bmN0aW9uIHVzZURyb3Aob25GaWxlTG9hZCwgdHlwZSkgewogIGNvbnN0IGhhbmRsZURyb3AgPSB1c2VDYWxsYmFjayhmaWxlcyA9PiB7CiAgICBmaWxlcy5mb3JFYWNoKGZpbGUgPT4gewogICAgICBjb25zdCBuYW1lID0gZmlsZS5uYW1lOwogICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwoKICAgICAgcmVhZGVyLm9uYWJvcnQgPSAoKSA9PiBjb25zb2xlLmxvZygnZmlsZSByZWFkaW5nIHdhcyBhYm9ydGVkJyk7CgogICAgICByZWFkZXIub25lcnJvciA9ICgpID0+IGNvbnNvbGUubG9nKCdmaWxlIHJlYWRpbmcgaGFzIGZhaWxlZCcpOwoKICAgICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHsKICAgICAgICBjb25zdCB0ZXh0ID0gcmVhZGVyLnJlc3VsdCA/IHJlYWRlci5yZXN1bHQudG9TdHJpbmcoKSA6ICcnOwogICAgICAgIG9uRmlsZUxvYWQgJiYgb25GaWxlTG9hZCh0ZXh0LCB0eXBlLCBuYW1lKTsKICAgICAgfTsKCiAgICAgIHJlYWRlci5yZWFkQXNCaW5hcnlTdHJpbmcoZmlsZSk7CiAgICB9KTsKICB9LCBbb25GaWxlTG9hZCwgdHlwZV0pOwogIHJldHVybiBoYW5kbGVEcm9wOwp9"},{"version":3,"sources":["C:/ws/graph-drill/src/controls/FileDrop/hooks/useDrop.ts"],"names":["useCallback","useDrop","onFileLoad","type","handleDrop","files","forEach","file","name","reader","FileReader","onabort","console","log","onerror","onload","text","result","toString","readAsBinaryString"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAASA,WAAT,QAA4B,OAA5B;AACA,OAAO,SAASC,OAAT,CAAiBC,UAAjB,EAA6BC,IAA7B,EAAmC;AACtC,QAAMC,UAAU,GAAGJ,WAAW,CAAEK,KAAD,IAAW;AACtCA,IAAAA,KAAK,CAACC,OAAN,CAAeC,IAAD,IAAU;AACpB,YAAMC,IAAI,GAAGD,IAAI,CAACC,IAAlB;AACA,YAAMC,MAAM,GAAG,IAAIC,UAAJ,EAAf;;AACAD,MAAAA,MAAM,CAACE,OAAP,GAAiB,MAAMC,OAAO,CAACC,GAAR,CAAY,0BAAZ,CAAvB;;AACAJ,MAAAA,MAAM,CAACK,OAAP,GAAiB,MAAMF,OAAO,CAACC,GAAR,CAAY,yBAAZ,CAAvB;;AACAJ,MAAAA,MAAM,CAACM,MAAP,GAAgB,MAAM;AAClB,cAAMC,IAAI,GAAGP,MAAM,CAACQ,MAAP,GAAgBR,MAAM,CAACQ,MAAP,CAAcC,QAAd,EAAhB,GAA2C,EAAxD;AACAhB,QAAAA,UAAU,IAAIA,UAAU,CAACc,IAAD,EAAOb,IAAP,EAAaK,IAAb,CAAxB;AACH,OAHD;;AAIAC,MAAAA,MAAM,CAACU,kBAAP,CAA0BZ,IAA1B;AACH,KAVD;AAWH,GAZ6B,EAY3B,CAACL,UAAD,EAAaC,IAAb,CAZ2B,CAA9B;AAaA,SAAOC,UAAP;AACH","sourcesContent":["/*!\r\n * Copyright (c) Microsoft. All rights reserved.\r\n * Licensed under the MIT license. See LICENSE file in the project.\r\n */\r\nimport { useCallback } from 'react';\r\nexport function useDrop(onFileLoad, type) {\r\n    const handleDrop = useCallback((files) => {\r\n        files.forEach((file) => {\r\n            const name = file.name;\r\n            const reader = new FileReader();\r\n            reader.onabort = () => console.log('file reading was aborted');\r\n            reader.onerror = () => console.log('file reading has failed');\r\n            reader.onload = () => {\r\n                const text = reader.result ? reader.result.toString() : '';\r\n                onFileLoad && onFileLoad(text, type, name);\r\n            };\r\n            reader.readAsBinaryString(file);\r\n        });\r\n    }, [onFileLoad, type]);\r\n    return handleDrop;\r\n}\r\n"]}]}