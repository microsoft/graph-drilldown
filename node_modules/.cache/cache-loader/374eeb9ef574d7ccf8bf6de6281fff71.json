{"remainingRequest":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\babel-loader-virtual-fd8dd261de\\0\\cache\\babel-loader-npm-8.2.2-b4e600c2c5-df5092ef98.zip\\node_modules\\babel-loader\\lib\\index.js??ruleSet[1].rules[0].use[1]!C:\\ws\\graph-drill\\.yarn\\__virtual__\\ts-loader-virtual-aa0d54d245\\0\\cache\\ts-loader-npm-9.2.1-40e1a5908e-1f2e61905d.zip\\node_modules\\ts-loader\\index.js??ruleSet[1].rules[0].use[2]!C:\\ws\\graph-drill\\src\\components\\App\\pages\\GraphViewerPage\\SidePanel\\PanelComponents\\BreadcrumbPanel.tsx","dependencies":[{"path":"C:\\ws\\graph-drill\\src\\components\\App\\pages\\GraphViewerPage\\SidePanel\\PanelComponents\\BreadcrumbPanel.tsx","mtime":1631029334714},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\cache-loader-virtual-2fd14a2267\\0\\cache\\cache-loader-npm-4.1.0-82c3da90d8-0339778bdd.zip\\node_modules\\cache-loader\\dist\\cjs.js","mtime":456789000000},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\babel-loader-virtual-fd8dd261de\\0\\cache\\babel-loader-npm-8.2.2-b4e600c2c5-df5092ef98.zip\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\ts-loader-virtual-aa0d54d245\\0\\cache\\ts-loader-npm-9.2.1-40e1a5908e-1f2e61905d.zip\\node_modules\\ts-loader\\index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgeyBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IH0ga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9CgovKiENCiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0LiBBbGwgcmlnaHRzIHJlc2VydmVkLg0KICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLiBTZWUgTElDRU5TRSBmaWxlIGluIHRoZSBwcm9qZWN0Lg0KICovCmltcG9ydCB7IEhpZXJhcmNoeU5hdiB9IGZyb20gJy4vSGllcmFyY2h5TmF2JzsKaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IFJPT1RfQ09NTVVOSVRZX0lEIH0gZnJvbSAnfi9jb25zdGFudHMnOwppbXBvcnQgeyB1c2VOYXZpZ2F0aW9uU3RhdGUsIHVzZVJlc2V0U2VsZWN0ZWRDb21tdW5pdHksIHVzZVNlbGVjdGVkQ29tbXVuaXR5LCB1c2VTZXROYXZpZ2F0aW9uU3RhdGUsIHVzZVNldFNlbGVjdGVkQ29tbXVuaXR5IH0gZnJvbSAnfi9zdGF0ZSc7CmNvbnN0IERFRkFVTFRfQ1JVTUJTID0gewogIGtleTogJ3Jvb3QnLAogIHRleHQ6ICdEcmlsbGRvd246IFJvb3QnCn07CmV4cG9ydCBjb25zdCBCcmVhZGNydW1iUGFuZWwgPSAoewogIHN0eWxlcwp9KSA9PiB7CiAgY29uc3Qgc2VsZWN0ZWRDb21tdW5pdHkgPSB1c2VTZWxlY3RlZENvbW11bml0eSgpOwogIGNvbnN0IHNldFNlbGVjdGVkQ29tbXVuaXR5ID0gdXNlU2V0U2VsZWN0ZWRDb21tdW5pdHkoKTsKICBjb25zdCByZXNldFNlbGVjdGVkQ29tbXVuaXR5ID0gdXNlUmVzZXRTZWxlY3RlZENvbW11bml0eSgpOwogIGNvbnN0IHNldE5hdlN0YXRlID0gdXNlU2V0TmF2aWdhdGlvblN0YXRlKCk7CiAgY29uc3QgbmF2U3RhdGUgPSB1c2VOYXZpZ2F0aW9uU3RhdGUoKTsKICB1c2VFZmZlY3QoKCkgPT4gewogICAgc2V0TmF2U3RhdGUoaWRzID0+IHsKICAgICAgY29uc3QgaW5kZXggPSBpZHMuZmluZEluZGV4KGMgPT4gYyA9PT0gc2VsZWN0ZWRDb21tdW5pdHkpOwoKICAgICAgaWYgKGluZGV4ID49IDApIHsKICAgICAgICBjb25zdCBzbGljZWQgPSBpZHMuc2xpY2UoMCwgaW5kZXggKyAxKTsKICAgICAgICByZXR1cm4gc2xpY2VkOwogICAgICB9CgogICAgICByZXR1cm4gWy4uLmlkcywgc2VsZWN0ZWRDb21tdW5pdHldOwogICAgfSk7CiAgfSwgW3NlbGVjdGVkQ29tbXVuaXR5LCBzZXROYXZTdGF0ZV0pOwogIGNvbnN0IGNydW1icyA9IHVzZU1lbW8oKCkgPT4gewogICAgcmV0dXJuIG5hdlN0YXRlLm1hcChpZCA9PiB7CiAgICAgIGlmIChpZCA9PT0gUk9PVF9DT01NVU5JVFlfSUQpIHsKICAgICAgICByZXR1cm4gREVGQVVMVF9DUlVNQlM7CiAgICAgIH0KCiAgICAgIHJldHVybiB7CiAgICAgICAga2V5OiBpZCwKICAgICAgICB0ZXh0OiBpZAogICAgICB9OwogICAgfSk7CiAgfSwgW25hdlN0YXRlXSk7CiAgY29uc3QgaGFuZGxlQnJlYWRjcnVtYkNsaWNrID0gdXNlQ2FsbGJhY2soaXRlbSA9PiB7CiAgICBpdGVtLmtleSA9PT0gJ3Jvb3QnID8gcmVzZXRTZWxlY3RlZENvbW11bml0eSgpIDogc2V0U2VsZWN0ZWRDb21tdW5pdHkoaXRlbS5rZXkpOwogIH0sIFtzZXRTZWxlY3RlZENvbW11bml0eSwgcmVzZXRTZWxlY3RlZENvbW11bml0eV0pOwogIGNvbnN0IGl0ZW1zID0gdXNlTWVtbygoKSA9PiB7CiAgICByZXR1cm4gY3J1bWJzLm1hcChjID0+IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgYyksIHt9LCB7CiAgICAgIG9uQ2xpY2s6IGhhbmRsZUJyZWFkY3J1bWJDbGljawogICAgfSkpOwogIH0sIFtjcnVtYnMsIGhhbmRsZUJyZWFkY3J1bWJDbGlja10pOwogIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEhpZXJhcmNoeU5hdiwgewogICAgaXRlbXM6IGl0ZW1zLAogICAgaGFuZGxlQnJlYWRjcnVtYkNsaWNrOiBoYW5kbGVCcmVhZGNydW1iQ2xpY2sKICB9KTsKfTs="},{"version":3,"sources":["C:/ws/graph-drill/src/components/App/pages/GraphViewerPage/SidePanel/PanelComponents/BreadcrumbPanel.tsx"],"names":["HierarchyNav","React","useCallback","useEffect","useMemo","ROOT_COMMUNITY_ID","useNavigationState","useResetSelectedCommunity","useSelectedCommunity","useSetNavigationState","useSetSelectedCommunity","DEFAULT_CRUMBS","key","text","BreadcrumbPanel","styles","selectedCommunity","setSelectedCommunity","resetSelectedCommunity","setNavState","navState","ids","index","findIndex","c","sliced","slice","crumbs","map","id","handleBreadcrumbClick","item","items","onClick","createElement"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA,SAASA,YAAT,QAA6B,gBAA7B;AACA,OAAOC,KAAP,IAAgBC,WAAhB,EAA6BC,SAA7B,EAAwCC,OAAxC,QAAuD,OAAvD;AACA,SAASC,iBAAT,QAAkC,aAAlC;AACA,SAASC,kBAAT,EAA6BC,yBAA7B,EAAwDC,oBAAxD,EAA8EC,qBAA9E,EAAqGC,uBAArG,QAAqI,SAArI;AACA,MAAMC,cAAc,GAAG;AACnBC,EAAAA,GAAG,EAAE,MADc;AAEnBC,EAAAA,IAAI,EAAE;AAFa,CAAvB;AAIA,OAAO,MAAMC,eAAe,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAgB;AAC3C,QAAMC,iBAAiB,GAAGR,oBAAoB,EAA9C;AACA,QAAMS,oBAAoB,GAAGP,uBAAuB,EAApD;AACA,QAAMQ,sBAAsB,GAAGX,yBAAyB,EAAxD;AACA,QAAMY,WAAW,GAAGV,qBAAqB,EAAzC;AACA,QAAMW,QAAQ,GAAGd,kBAAkB,EAAnC;AACAH,EAAAA,SAAS,CAAC,MAAM;AACZgB,IAAAA,WAAW,CAACE,GAAG,IAAI;AACf,YAAMC,KAAK,GAAGD,GAAG,CAACE,SAAJ,CAAcC,CAAC,IAAIA,CAAC,KAAKR,iBAAzB,CAAd;;AACA,UAAIM,KAAK,IAAI,CAAb,EAAgB;AACZ,cAAMG,MAAM,GAAGJ,GAAG,CAACK,KAAJ,CAAU,CAAV,EAAaJ,KAAK,GAAG,CAArB,CAAf;AACA,eAAOG,MAAP;AACH;;AACD,aAAO,CAAC,GAAGJ,GAAJ,EAASL,iBAAT,CAAP;AACH,KAPU,CAAX;AAQH,GATQ,EASN,CAACA,iBAAD,EAAoBG,WAApB,CATM,CAAT;AAUA,QAAMQ,MAAM,GAAGvB,OAAO,CAAC,MAAM;AACzB,WAAOgB,QAAQ,CAACQ,GAAT,CAAaC,EAAE,IAAI;AACtB,UAAIA,EAAE,KAAKxB,iBAAX,EAA8B;AAC1B,eAAOM,cAAP;AACH;;AACD,aAAO;AACHC,QAAAA,GAAG,EAAEiB,EADF;AAEHhB,QAAAA,IAAI,EAAEgB;AAFH,OAAP;AAIH,KARM,CAAP;AASH,GAVqB,EAUnB,CAACT,QAAD,CAVmB,CAAtB;AAWA,QAAMU,qBAAqB,GAAG5B,WAAW,CAAC6B,IAAI,IAAI;AAC9CA,IAAAA,IAAI,CAACnB,GAAL,KAAa,MAAb,GACMM,sBAAsB,EAD5B,GAEMD,oBAAoB,CAACc,IAAI,CAACnB,GAAN,CAF1B;AAGH,GAJwC,EAItC,CAACK,oBAAD,EAAuBC,sBAAvB,CAJsC,CAAzC;AAKA,QAAMc,KAAK,GAAG5B,OAAO,CAAC,MAAM;AACxB,WAAOuB,MAAM,CAACC,GAAP,CAAWJ,CAAC,oCACZA,CADY;AAEfS,MAAAA,OAAO,EAAEH;AAFM,MAAZ,CAAP;AAIH,GALoB,EAKlB,CAACH,MAAD,EAASG,qBAAT,CALkB,CAArB;AAMA,SAAQ7B,KAAK,CAACiC,aAAN,CAAoBlC,YAApB,EAAkC;AAAEgC,IAAAA,KAAK,EAAEA,KAAT;AAAgBF,IAAAA,qBAAqB,EAAEA;AAAvC,GAAlC,CAAR;AACH,CAvCM","sourcesContent":["/*!\r\n * Copyright (c) Microsoft. All rights reserved.\r\n * Licensed under the MIT license. See LICENSE file in the project.\r\n */\r\nimport { HierarchyNav } from './HierarchyNav';\r\nimport React, { useCallback, useEffect, useMemo } from 'react';\r\nimport { ROOT_COMMUNITY_ID } from '~/constants';\r\nimport { useNavigationState, useResetSelectedCommunity, useSelectedCommunity, useSetNavigationState, useSetSelectedCommunity, } from '~/state';\r\nconst DEFAULT_CRUMBS = {\r\n    key: 'root',\r\n    text: 'Drilldown: Root',\r\n};\r\nexport const BreadcrumbPanel = ({ styles }) => {\r\n    const selectedCommunity = useSelectedCommunity();\r\n    const setSelectedCommunity = useSetSelectedCommunity();\r\n    const resetSelectedCommunity = useResetSelectedCommunity();\r\n    const setNavState = useSetNavigationState();\r\n    const navState = useNavigationState();\r\n    useEffect(() => {\r\n        setNavState(ids => {\r\n            const index = ids.findIndex(c => c === selectedCommunity);\r\n            if (index >= 0) {\r\n                const sliced = ids.slice(0, index + 1);\r\n                return sliced;\r\n            }\r\n            return [...ids, selectedCommunity];\r\n        });\r\n    }, [selectedCommunity, setNavState]);\r\n    const crumbs = useMemo(() => {\r\n        return navState.map(id => {\r\n            if (id === ROOT_COMMUNITY_ID) {\r\n                return DEFAULT_CRUMBS;\r\n            }\r\n            return {\r\n                key: id,\r\n                text: id,\r\n            };\r\n        });\r\n    }, [navState]);\r\n    const handleBreadcrumbClick = useCallback(item => {\r\n        item.key === 'root'\r\n            ? resetSelectedCommunity()\r\n            : setSelectedCommunity(item.key);\r\n    }, [setSelectedCommunity, resetSelectedCommunity]);\r\n    const items = useMemo(() => {\r\n        return crumbs.map(c => ({\r\n            ...c,\r\n            onClick: handleBreadcrumbClick,\r\n        }));\r\n    }, [crumbs, handleBreadcrumbClick]);\r\n    return (React.createElement(HierarchyNav, { items: items, handleBreadcrumbClick: handleBreadcrumbClick }));\r\n};\r\n"]}]}