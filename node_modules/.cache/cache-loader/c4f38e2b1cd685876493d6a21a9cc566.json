{"remainingRequest":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\babel-loader-virtual-fd8dd261de\\0\\cache\\babel-loader-npm-8.2.2-b4e600c2c5-df5092ef98.zip\\node_modules\\babel-loader\\lib\\index.js??ruleSet[1].rules[0].use[1]!C:\\ws\\graph-drill\\.yarn\\__virtual__\\ts-loader-virtual-aa0d54d245\\0\\cache\\ts-loader-npm-9.2.1-40e1a5908e-1f2e61905d.zip\\node_modules\\ts-loader\\index.js??ruleSet[1].rules[0].use[2]!C:\\ws\\graph-drill\\src\\components\\App\\pages\\GraphViewerPage\\hooks\\useGraphDimensions.ts","dependencies":[{"path":"C:\\ws\\graph-drill\\src\\components\\App\\pages\\GraphViewerPage\\hooks\\useGraphDimensions.ts","mtime":1624559748213},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\cache-loader-virtual-2fd14a2267\\0\\cache\\cache-loader-npm-4.1.0-82c3da90d8-0339778bdd.zip\\node_modules\\cache-loader\\dist\\cjs.js","mtime":456789000000},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\babel-loader-virtual-fd8dd261de\\0\\cache\\babel-loader-npm-8.2.2-b4e600c2c5-df5092ef98.zip\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\ts-loader-virtual-aa0d54d245\\0\\cache\\ts-loader-npm-9.2.1-40e1a5908e-1f2e61905d.zip\\node_modules\\ts-loader\\index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyohDQogKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdC4gQWxsIHJpZ2h0cyByZXNlcnZlZC4NCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS4gU2VlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcHJvamVjdC4NCiAqLwppbXBvcnQgeyB1c2VEaW1lbnNpb25zIH0gZnJvbSAnQGVzc2V4LWpzLXRvb2xraXQvaG9va3MnOwppbXBvcnQgeyB1c2VNZW1vLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgSEVBREVSX0hFSUdIVCwgUEFORUxfV0lEVEggfSBmcm9tICd+L3N0eWxlcyc7CmNvbnN0IFBBRERJTkcgPSA1OwpleHBvcnQgZnVuY3Rpb24gdXNlR3JhcGhEaW1lbnNpb25zKHJlZikgewogIGNvbnN0IFtwb3NpdGlvbiwgc2V0UG9zaXRpb25dID0gdXNlU3RhdGUoewogICAgeDogMCwKICAgIHk6IDAsCiAgICBoZWlnaHQ6IEhFQURFUl9IRUlHSFQKICB9KTsKICBjb25zdCBkaW1lbnNpb25zID0gdXNlRGltZW5zaW9ucyhyZWYpOwogIGNvbnN0IGdyYXBoRGltZW5zaW9ucyA9IHVzZU1lbW8oKCkgPT4gewogICAgaWYgKGRpbWVuc2lvbnMpIHsKICAgICAgY29uc3QgewogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodAogICAgICB9ID0gZGltZW5zaW9uczsgLy8gVE9ETzogdGhlc2UgY2FuIGZsZXgsIGJ1dCBhIHN0cmljdCAyMCUgY2FuIGJlIHF1aXRlIGxhcmdlCiAgICAgIC8vIG1heWJlIHVzZWEgJSB3aXRoIGhhcmQgbWluL21heCB3aWR0aHMKCiAgICAgIGNvbnN0IGxlZnRQYW5lbFdpZHRoID0gUEFORUxfV0lEVEg7IC8vIHdpZHRoICogMC4yCgogICAgICBjb25zdCByaWdodFBhbmVsV2lkdGggPSBQQU5FTF9XSURUSDsgLy8gd2lkdGggKiAwLjIKCiAgICAgIGNvbnN0IHJlc2l6ZVdpZHRoID0gd2lkdGggLSBQQURESU5HICogMiAtIChsZWZ0UGFuZWxXaWR0aCArIHJpZ2h0UGFuZWxXaWR0aCk7CiAgICAgIGNvbnN0IGJyb3dzZXJXaWR0aCA9IHdpZHRoIC0gbGVmdFBhbmVsV2lkdGggLSBQQURESU5HICogMjsKICAgICAgY29uc3QgZGltcyA9IHsKICAgICAgICB3aWR0aDogcmVzaXplV2lkdGgsCiAgICAgICAgaGVpZ2h0OiBoZWlnaHQsCiAgICAgICAgbGVmdFBhbmVsV2lkdGgsCiAgICAgICAgcmlnaHRQYW5lbFdpZHRoLAogICAgICAgIGJyb3dzZXJXaWR0aAogICAgICB9OwogICAgICBzZXRQb3NpdGlvbih7CiAgICAgICAgeDogMCwKICAgICAgICB5OiBoZWlnaHQgLSBIRUFERVJfSEVJR0hULAogICAgICAgIGhlaWdodDogSEVBREVSX0hFSUdIVAogICAgICB9KTsKICAgICAgcmV0dXJuIGRpbXM7CiAgICB9CgogICAgcmV0dXJuIHsKICAgICAgd2lkdGg6IDEyMDAsCiAgICAgIGhlaWdodDogMTIwMCwKICAgICAgcmlnaHRQYW5lbFdpZHRoOiAwLAogICAgICBsZWZ0UGFuZWxXaWR0aDogMCwKICAgICAgYnJvd3NlcldpZHRoOiAxMjAwCiAgICB9OwogIH0sIFtkaW1lbnNpb25zLCBzZXRQb3NpdGlvbl0pOwogIHJldHVybiBbZ3JhcGhEaW1lbnNpb25zLCBwb3NpdGlvbiwgc2V0UG9zaXRpb25dOwp9"},{"version":3,"sources":["C:/ws/graph-drill/src/components/App/pages/GraphViewerPage/hooks/useGraphDimensions.ts"],"names":["useDimensions","useMemo","useState","HEADER_HEIGHT","PANEL_WIDTH","PADDING","useGraphDimensions","ref","position","setPosition","x","y","height","dimensions","graphDimensions","width","leftPanelWidth","rightPanelWidth","resizeWidth","browserWidth","dims"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAASA,aAAT,QAA8B,yBAA9B;AACA,SAASC,OAAT,EAAkBC,QAAlB,QAAkC,OAAlC;AACA,SAASC,aAAT,EAAwBC,WAAxB,QAA2C,UAA3C;AACA,MAAMC,OAAO,GAAG,CAAhB;AACA,OAAO,SAASC,kBAAT,CAA4BC,GAA5B,EAAiC;AACpC,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,CAAC;AACrCQ,IAAAA,CAAC,EAAE,CADkC;AAErCC,IAAAA,CAAC,EAAE,CAFkC;AAGrCC,IAAAA,MAAM,EAAET;AAH6B,GAAD,CAAxC;AAKA,QAAMU,UAAU,GAAGb,aAAa,CAACO,GAAD,CAAhC;AACA,QAAMO,eAAe,GAAGb,OAAO,CAAC,MAAM;AAClC,QAAIY,UAAJ,EAAgB;AACZ,YAAM;AAAEE,QAAAA,KAAF;AAASH,QAAAA;AAAT,UAAoBC,UAA1B,CADY,CAEZ;AACA;;AACA,YAAMG,cAAc,GAAGZ,WAAvB,CAJY,CAIwB;;AACpC,YAAMa,eAAe,GAAGb,WAAxB,CALY,CAKyB;;AACrC,YAAMc,WAAW,GAAGH,KAAK,GAAGV,OAAO,GAAG,CAAlB,IAAuBW,cAAc,GAAGC,eAAxC,CAApB;AACA,YAAME,YAAY,GAAGJ,KAAK,GAAGC,cAAR,GAAyBX,OAAO,GAAG,CAAxD;AACA,YAAMe,IAAI,GAAG;AACTL,QAAAA,KAAK,EAAEG,WADE;AAETN,QAAAA,MAAM,EAAEA,MAFC;AAGTI,QAAAA,cAHS;AAITC,QAAAA,eAJS;AAKTE,QAAAA;AALS,OAAb;AAOAV,MAAAA,WAAW,CAAC;AACRC,QAAAA,CAAC,EAAE,CADK;AAERC,QAAAA,CAAC,EAAEC,MAAM,GAAGT,aAFJ;AAGRS,QAAAA,MAAM,EAAET;AAHA,OAAD,CAAX;AAKA,aAAOiB,IAAP;AACH;;AACD,WAAO;AACHL,MAAAA,KAAK,EAAE,IADJ;AAEHH,MAAAA,MAAM,EAAE,IAFL;AAGHK,MAAAA,eAAe,EAAE,CAHd;AAIHD,MAAAA,cAAc,EAAE,CAJb;AAKHG,MAAAA,YAAY,EAAE;AALX,KAAP;AAOH,GA9B8B,EA8B5B,CAACN,UAAD,EAAaJ,WAAb,CA9B4B,CAA/B;AA+BA,SAAO,CAACK,eAAD,EAAkBN,QAAlB,EAA4BC,WAA5B,CAAP;AACH","sourcesContent":["/*!\r\n * Copyright (c) Microsoft. All rights reserved.\r\n * Licensed under the MIT license. See LICENSE file in the project.\r\n */\r\nimport { useDimensions } from '@essex-js-toolkit/hooks';\r\nimport { useMemo, useState } from 'react';\r\nimport { HEADER_HEIGHT, PANEL_WIDTH } from '~/styles';\r\nconst PADDING = 5;\r\nexport function useGraphDimensions(ref) {\r\n    const [position, setPosition] = useState({\r\n        x: 0,\r\n        y: 0,\r\n        height: HEADER_HEIGHT,\r\n    });\r\n    const dimensions = useDimensions(ref);\r\n    const graphDimensions = useMemo(() => {\r\n        if (dimensions) {\r\n            const { width, height } = dimensions;\r\n            // TODO: these can flex, but a strict 20% can be quite large\r\n            // maybe usea % with hard min/max widths\r\n            const leftPanelWidth = PANEL_WIDTH; // width * 0.2\r\n            const rightPanelWidth = PANEL_WIDTH; // width * 0.2\r\n            const resizeWidth = width - PADDING * 2 - (leftPanelWidth + rightPanelWidth);\r\n            const browserWidth = width - leftPanelWidth - PADDING * 2;\r\n            const dims = {\r\n                width: resizeWidth,\r\n                height: height,\r\n                leftPanelWidth,\r\n                rightPanelWidth,\r\n                browserWidth,\r\n            };\r\n            setPosition({\r\n                x: 0,\r\n                y: height - HEADER_HEIGHT,\r\n                height: HEADER_HEIGHT,\r\n            });\r\n            return dims;\r\n        }\r\n        return {\r\n            width: 1200,\r\n            height: 1200,\r\n            rightPanelWidth: 0,\r\n            leftPanelWidth: 0,\r\n            browserWidth: 1200,\r\n        };\r\n    }, [dimensions, setPosition]);\r\n    return [graphDimensions, position, setPosition];\r\n}\r\n"]}]}