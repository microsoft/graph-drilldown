{"remainingRequest":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\babel-loader-virtual-fd8dd261de\\0\\cache\\babel-loader-npm-8.2.2-b4e600c2c5-df5092ef98.zip\\node_modules\\babel-loader\\lib\\index.js??ruleSet[1].rules[0].use[1]!C:\\ws\\graph-drill\\.yarn\\__virtual__\\ts-loader-virtual-aa0d54d245\\0\\cache\\ts-loader-npm-9.2.1-40e1a5908e-1f2e61905d.zip\\node_modules\\ts-loader\\index.js??ruleSet[1].rules[0].use[2]!C:\\ws\\graph-drill\\src\\arquero\\nodes.ts","dependencies":[{"path":"C:\\ws\\graph-drill\\src\\arquero\\nodes.ts","mtime":1624559748099},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\cache-loader-virtual-2fd14a2267\\0\\cache\\cache-loader-npm-4.1.0-82c3da90d8-0339778bdd.zip\\node_modules\\cache-loader\\dist\\cjs.js","mtime":456789000000},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\babel-loader-virtual-fd8dd261de\\0\\cache\\babel-loader-npm-8.2.2-b4e600c2c5-df5092ef98.zip\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\ts-loader-virtual-aa0d54d245\\0\\cache\\ts-loader-npm-9.2.1-40e1a5908e-1f2e61905d.zip\\node_modules\\ts-loader\\index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lCmltcG9ydCB7IG9wIH0gZnJvbSAnYXJxdWVybyc7Ci8qKg0KICogR2V0cyBkZWZhdWx0IHJvbGxlZCB1cCBub2RlIHN0YXRzIHdpdGhpbiBhIHF1YW50aWxlIHJhbmdlLg0KICogQHBhcmFtIHRhYmxlIGFzc3VtZWQgcHJlLWdyb3VwZWQgdGFibGUgKGUuZy4sIGJ5IHBhcmVudCBpZCkNCiAqIEBwYXJhbSBxdWFudGlsZQ0KICovCgpleHBvcnQgZnVuY3Rpb24gZ2V0Tm9kZVN0YXRzKHRhYmxlLCBxdWFudGlsZSA9IDEpIHsKICBpZiAoIXRhYmxlIHx8IHRhYmxlLm51bVJvd3MoKSA9PT0gMCB8fCBxdWFudGlsZSA9PT0gMSkgewogICAgcmV0dXJuIFt7CiAgICAgIG1pblg6IDAsCiAgICAgIG1heFg6IDEsCiAgICAgIG1pblk6IDAsCiAgICAgIG1heFk6IDEsCiAgICAgIG1pbkQ6IDAsCiAgICAgIG1heEQ6IDEKICAgIH1dOwogIH0KCiAgY29uc3Qgcm9sbHVwID0gdGFibGUucm9sbHVwKHsKICAgIG1pblg6IG9wLnF1YW50aWxlKCdub2RlLngnLCAxIC0gcXVhbnRpbGUpLAogICAgbWF4WDogb3AucXVhbnRpbGUoJ25vZGUueCcsIHF1YW50aWxlKSwKICAgIG1pblk6IG9wLnF1YW50aWxlKCdub2RlLnknLCAxIC0gcXVhbnRpbGUpLAogICAgbWF4WTogb3AucXVhbnRpbGUoJ25vZGUueScsIHF1YW50aWxlKSwKICAgIG1pbkQ6IG9wLnF1YW50aWxlKCdub2RlLmQnLCAxIC0gcXVhbnRpbGUpLAogICAgbWF4RDogb3AucXVhbnRpbGUoJ25vZGUuZCcsIHF1YW50aWxlKQogIH0pOwogIHJldHVybiByb2xsdXAub2JqZWN0cygpWzBdOwp9"},{"version":3,"sources":["C:/ws/graph-drill/src/arquero/nodes.ts"],"names":["op","getNodeStats","table","quantile","numRows","minX","maxX","minY","maxY","minD","maxD","rollup","objects"],"mappings":"AAAA;AACA,SAASA,EAAT,QAAmB,SAAnB;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,YAAT,CAAsBC,KAAtB,EAA6BC,QAAQ,GAAG,CAAxC,EAA2C;AAC9C,MAAI,CAACD,KAAD,IAAUA,KAAK,CAACE,OAAN,OAAoB,CAA9B,IAAmCD,QAAQ,KAAK,CAApD,EAAuD;AACnD,WAAO,CACH;AACIE,MAAAA,IAAI,EAAE,CADV;AAEIC,MAAAA,IAAI,EAAE,CAFV;AAGIC,MAAAA,IAAI,EAAE,CAHV;AAIIC,MAAAA,IAAI,EAAE,CAJV;AAKIC,MAAAA,IAAI,EAAE,CALV;AAMIC,MAAAA,IAAI,EAAE;AANV,KADG,CAAP;AAUH;;AACD,QAAMC,MAAM,GAAGT,KAAK,CAACS,MAAN,CAAa;AACxBN,IAAAA,IAAI,EAAEL,EAAE,CAACG,QAAH,CAAY,QAAZ,EAAsB,IAAIA,QAA1B,CADkB;AAExBG,IAAAA,IAAI,EAAEN,EAAE,CAACG,QAAH,CAAY,QAAZ,EAAsBA,QAAtB,CAFkB;AAGxBI,IAAAA,IAAI,EAAEP,EAAE,CAACG,QAAH,CAAY,QAAZ,EAAsB,IAAIA,QAA1B,CAHkB;AAIxBK,IAAAA,IAAI,EAAER,EAAE,CAACG,QAAH,CAAY,QAAZ,EAAsBA,QAAtB,CAJkB;AAKxBM,IAAAA,IAAI,EAAET,EAAE,CAACG,QAAH,CAAY,QAAZ,EAAsB,IAAIA,QAA1B,CALkB;AAMxBO,IAAAA,IAAI,EAAEV,EAAE,CAACG,QAAH,CAAY,QAAZ,EAAsBA,QAAtB;AANkB,GAAb,CAAf;AAQA,SAAOQ,MAAM,CAACC,OAAP,GAAiB,CAAjB,CAAP;AACH","sourcesContent":["// eslint-disable-next-line\r\nimport { op } from 'arquero';\r\n/**\r\n * Gets default rolled up node stats within a quantile range.\r\n * @param table assumed pre-grouped table (e.g., by parent id)\r\n * @param quantile\r\n */\r\nexport function getNodeStats(table, quantile = 1) {\r\n    if (!table || table.numRows() === 0 || quantile === 1) {\r\n        return [\r\n            {\r\n                minX: 0,\r\n                maxX: 1,\r\n                minY: 0,\r\n                maxY: 1,\r\n                minD: 0,\r\n                maxD: 1,\r\n            },\r\n        ];\r\n    }\r\n    const rollup = table.rollup({\r\n        minX: op.quantile('node.x', 1 - quantile),\r\n        maxX: op.quantile('node.x', quantile),\r\n        minY: op.quantile('node.y', 1 - quantile),\r\n        maxY: op.quantile('node.y', quantile),\r\n        minD: op.quantile('node.d', 1 - quantile),\r\n        maxD: op.quantile('node.d', quantile),\r\n    });\r\n    return rollup.objects()[0];\r\n}\r\n"]}]}