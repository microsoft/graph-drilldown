{"remainingRequest":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\babel-loader-virtual-fd8dd261de\\0\\cache\\babel-loader-npm-8.2.2-b4e600c2c5-df5092ef98.zip\\node_modules\\babel-loader\\lib\\index.js??ruleSet[1].rules[0].use[1]!C:\\ws\\graph-drill\\.yarn\\__virtual__\\ts-loader-virtual-aa0d54d245\\0\\cache\\ts-loader-npm-9.2.1-40e1a5908e-1f2e61905d.zip\\node_modules\\ts-loader\\index.js??ruleSet[1].rules[0].use[2]!C:\\ws\\graph-drill\\src\\components\\Export\\Export.tsx","dependencies":[{"path":"C:\\ws\\graph-drill\\src\\components\\Export\\Export.tsx","mtime":1631029334772},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\cache-loader-virtual-2fd14a2267\\0\\cache\\cache-loader-npm-4.1.0-82c3da90d8-0339778bdd.zip\\node_modules\\cache-loader\\dist\\cjs.js","mtime":456789000000},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\babel-loader-virtual-fd8dd261de\\0\\cache\\babel-loader-npm-8.2.2-b4e600c2c5-df5092ef98.zip\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\ws\\graph-drill\\.yarn\\__virtual__\\ts-loader-virtual-aa0d54d245\\0\\cache\\ts-loader-npm-9.2.1-40e1a5908e-1f2e61905d.zip\\node_modules\\ts-loader\\index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyohDQogKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdC4gQWxsIHJpZ2h0cyByZXNlcnZlZC4NCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS4gU2VlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcHJvamVjdC4NCiAqLwppbXBvcnQgeyBJbWFnZVNldHRpbmdzIH0gZnJvbSAnLi9JbWFnZVNldHRpbmdzJzsKaW1wb3J0IHsgdXNlQ3JlYXRlUmVuZGVyZXIgfSBmcm9tICcuL2hvb2tzL3VzZUNyZWF0ZVJlbmRlcmVyJzsKaW1wb3J0IHsgdXNlU2F2ZUltYWdlIH0gZnJvbSAnLi9ob29rcy91c2VTYXZlSW1hZ2UnOwppbXBvcnQgeyBTcGlubmVyLCBBY3Rpb25CdXR0b24gfSBmcm9tICdAZmx1ZW50dWkvcmVhY3QnOwppbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJzsKY29uc3QgREVGQVVMVF9JTUFHRV9TRVRUSU5HUyA9IHsKICBmaWxlbmFtZTogJ2dyYXBoJywKICBzaXplOiAyMDAwCn07CmV4cG9ydCBjb25zdCBFeHBvcnQgPSAoKSA9PiB7CiAgY29uc3QgW3JlbmRlcmVyLCBzZXRSZW5kZXJlcl0gPSB1c2VTdGF0ZSgpOwogIGNvbnN0IFtjcmVhdGUsIHNldENyZWF0ZV0gPSB1c2VTdGF0ZShmYWxzZSk7CiAgY29uc3QgW3NhdmUsIHNldFNhdmVdID0gdXNlU3RhdGUoZmFsc2UpOwogIGNvbnN0IGhhbmRsZUV4cG9ydENsaWNrID0gdXNlQ2FsbGJhY2soKCkgPT4gewogICAgc2V0Q3JlYXRlKHRydWUpOwogICAgc2V0U2F2ZSh0cnVlKTsKICB9LCBbXSk7CiAgY29uc3QgW2ltYWdlU2V0dGluZ3MsIHNldEltYWdlU2V0dGluZ3NdID0gdXNlU3RhdGUoREVGQVVMVF9JTUFHRV9TRVRUSU5HUyk7CiAgY29uc3QgaGFuZGxlSW1hZ2VTZXR0aW5nc0NoYW5nZSA9IHVzZUNhbGxiYWNrKHMgPT4gc2V0SW1hZ2VTZXR0aW5ncyhzKSwgW10pOwogIGNvbnN0IGhhbmRsZU9uUmVuZGVyZXIgPSB1c2VDYWxsYmFjayhyID0+IHNldFJlbmRlcmVyKHIpLCBbXSk7CiAgY29uc3QgaGFuZGxlU2F2ZUNvbXBsZXRlID0gdXNlQ2FsbGJhY2soKCkgPT4gc2V0U2F2ZShmYWxzZSksIFtdKTsKICB1c2VDcmVhdGVSZW5kZXJlcihjcmVhdGUsIGhhbmRsZU9uUmVuZGVyZXIpOwogIHVzZVNhdmVJbWFnZShzYXZlLCBpbWFnZVNldHRpbmdzLCByZW5kZXJlciwgaGFuZGxlU2F2ZUNvbXBsZXRlKTsKICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDb250YWluZXIsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSW1hZ2VTZXR0aW5ncywgewogICAgc2V0dGluZ3M6IGltYWdlU2V0dGluZ3MsCiAgICBvbkNoYW5nZTogaGFuZGxlSW1hZ2VTZXR0aW5nc0NoYW5nZQogIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KEFjdGlvbkJ1dHRvbiwgewogICAgdGl0bGU6ICdTYXZlIGdyYXBoIGltYWdlJywKICAgIGljb25Qcm9wczogewogICAgICBpY29uTmFtZTogJ0Rvd25sb2FkJwogICAgfSwKICAgIG9uQ2xpY2s6IGhhbmRsZUV4cG9ydENsaWNrCiAgfSwgIlNhdmUiKSwgc2F2ZSA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3Bpbm5lciwgewogICAgbGFiZWw6ICdQcmVwYXJpbmcgaW1hZ2UuLi4nCiAgfSkgOiBudWxsKTsKfTsKY29uc3QgQ29udGFpbmVyID0gc3R5bGVkLmRpdmBgOw=="},{"version":3,"sources":["C:/ws/graph-drill/src/components/Export/Export.tsx"],"names":["ImageSettings","useCreateRenderer","useSaveImage","Spinner","ActionButton","React","useCallback","useState","styled","DEFAULT_IMAGE_SETTINGS","filename","size","Export","renderer","setRenderer","create","setCreate","save","setSave","handleExportClick","imageSettings","setImageSettings","handleImageSettingsChange","s","handleOnRenderer","r","handleSaveComplete","createElement","Container","settings","onChange","title","iconProps","iconName","onClick","label","div"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAASA,aAAT,QAA8B,iBAA9B;AACA,SAASC,iBAAT,QAAkC,2BAAlC;AACA,SAASC,YAAT,QAA6B,sBAA7B;AACA,SAASC,OAAT,EAAkBC,YAAlB,QAAsC,iBAAtC;AACA,OAAOC,KAAP,IAAgBC,WAAhB,EAA6BC,QAA7B,QAA6C,OAA7C;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,MAAMC,sBAAsB,GAAG;AAC3BC,EAAAA,QAAQ,EAAE,OADiB;AAE3BC,EAAAA,IAAI,EAAE;AAFqB,CAA/B;AAIA,OAAO,MAAMC,MAAM,GAAG,MAAM;AACxB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,EAAxC;AACA,QAAM,CAACQ,MAAD,EAASC,SAAT,IAAsBT,QAAQ,CAAC,KAAD,CAApC;AACA,QAAM,CAACU,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAAC,KAAD,CAAhC;AACA,QAAMY,iBAAiB,GAAGb,WAAW,CAAC,MAAM;AACxCU,IAAAA,SAAS,CAAC,IAAD,CAAT;AACAE,IAAAA,OAAO,CAAC,IAAD,CAAP;AACH,GAHoC,EAGlC,EAHkC,CAArC;AAIA,QAAM,CAACE,aAAD,EAAgBC,gBAAhB,IAAoCd,QAAQ,CAACE,sBAAD,CAAlD;AACA,QAAMa,yBAAyB,GAAGhB,WAAW,CAACiB,CAAC,IAAIF,gBAAgB,CAACE,CAAD,CAAtB,EAA2B,EAA3B,CAA7C;AACA,QAAMC,gBAAgB,GAAGlB,WAAW,CAACmB,CAAC,IAAIX,WAAW,CAACW,CAAD,CAAjB,EAAsB,EAAtB,CAApC;AACA,QAAMC,kBAAkB,GAAGpB,WAAW,CAAC,MAAMY,OAAO,CAAC,KAAD,CAAd,EAAuB,EAAvB,CAAtC;AACAjB,EAAAA,iBAAiB,CAACc,MAAD,EAASS,gBAAT,CAAjB;AACAtB,EAAAA,YAAY,CAACe,IAAD,EAAOG,aAAP,EAAsBP,QAAtB,EAAgCa,kBAAhC,CAAZ;AACA,SAAQrB,KAAK,CAACsB,aAAN,CAAoBC,SAApB,EAA+B,IAA/B,EACJvB,KAAK,CAACsB,aAAN,CAAoB3B,aAApB,EAAmC;AAAE6B,IAAAA,QAAQ,EAAET,aAAZ;AAA2BU,IAAAA,QAAQ,EAAER;AAArC,GAAnC,CADI,EAEJjB,KAAK,CAACsB,aAAN,CAAoBvB,YAApB,EAAkC;AAAE2B,IAAAA,KAAK,EAAE,kBAAT;AAA6BC,IAAAA,SAAS,EAAE;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAAxC;AAAkEC,IAAAA,OAAO,EAAEf;AAA3E,GAAlC,EAAkI,MAAlI,CAFI,EAGJF,IAAI,GAAGZ,KAAK,CAACsB,aAAN,CAAoBxB,OAApB,EAA6B;AAAEgC,IAAAA,KAAK,EAAE;AAAT,GAA7B,CAAH,GAAmE,IAHnE,CAAR;AAIH,CAlBM;AAmBP,MAAMP,SAAS,GAAGpB,MAAM,CAAC4B,GAAK,EAA9B","sourcesContent":["/*!\r\n * Copyright (c) Microsoft. All rights reserved.\r\n * Licensed under the MIT license. See LICENSE file in the project.\r\n */\r\nimport { ImageSettings } from './ImageSettings';\r\nimport { useCreateRenderer } from './hooks/useCreateRenderer';\r\nimport { useSaveImage } from './hooks/useSaveImage';\r\nimport { Spinner, ActionButton } from '@fluentui/react';\r\nimport React, { useCallback, useState } from 'react';\r\nimport styled from 'styled-components';\r\nconst DEFAULT_IMAGE_SETTINGS = {\r\n    filename: 'graph',\r\n    size: 2000,\r\n};\r\nexport const Export = () => {\r\n    const [renderer, setRenderer] = useState();\r\n    const [create, setCreate] = useState(false);\r\n    const [save, setSave] = useState(false);\r\n    const handleExportClick = useCallback(() => {\r\n        setCreate(true);\r\n        setSave(true);\r\n    }, []);\r\n    const [imageSettings, setImageSettings] = useState(DEFAULT_IMAGE_SETTINGS);\r\n    const handleImageSettingsChange = useCallback(s => setImageSettings(s), []);\r\n    const handleOnRenderer = useCallback(r => setRenderer(r), []);\r\n    const handleSaveComplete = useCallback(() => setSave(false), []);\r\n    useCreateRenderer(create, handleOnRenderer);\r\n    useSaveImage(save, imageSettings, renderer, handleSaveComplete);\r\n    return (React.createElement(Container, null,\r\n        React.createElement(ImageSettings, { settings: imageSettings, onChange: handleImageSettingsChange }),\r\n        React.createElement(ActionButton, { title: 'Save graph image', iconProps: { iconName: 'Download' }, onClick: handleExportClick }, \"Save\"),\r\n        save ? React.createElement(Spinner, { label: 'Preparing image...' }) : null));\r\n};\r\nconst Container = styled.div ``;\r\n"]}]}